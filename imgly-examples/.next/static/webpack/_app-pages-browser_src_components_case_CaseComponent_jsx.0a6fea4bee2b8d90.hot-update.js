"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_src_components_case_CaseComponent_jsx",{

/***/ "(app-pages-browser)/./src/components/case/CaseComponent.jsx":
/*!***********************************************!*\
  !*** ./src/components/case/CaseComponent.jsx ***!
  \***********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.1.9_@babel+core@7.28.6_react-dom@19.0.1_react@19.0.1__react@19.0.1/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.1.9_@babel+core@7.28.6_react-dom@19.0.1_react@19.0.1__react@19.0.1/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _ProductEditorUIConfig__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ProductEditorUIConfig */ \"(app-pages-browser)/./src/components/case/ProductEditorUIConfig.ts\");\n/* harmony import */ var _CaseComponent_module_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CaseComponent.module.css */ \"(app-pages-browser)/./src/components/case/CaseComponent.module.css\");\n/* harmony import */ var _CaseComponent_module_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_CaseComponent_module_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _lib_CreativeEditor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/CreativeEditor */ \"(app-pages-browser)/./src/components/case/lib/CreativeEditor.tsx\");\n/* harmony import */ var _product__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./product */ \"(app-pages-browser)/./src/components/case/product.ts\");\n/* harmony import */ var _FormSection__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./FormSection */ \"(app-pages-browser)/./src/components/case/FormSection.tsx\");\n/* harmony import */ var _productConfigurator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./productConfigurator */ \"(app-pages-browser)/./src/components/case/productConfigurator.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nconst CaseComponent = ()=>{\n    _s();\n    const [productId, setProductId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_product__WEBPACK_IMPORTED_MODULE_5__.PRODUCT_SAMPLES[0].id);\n    const product = _product__WEBPACK_IMPORTED_MODULE_5__.PRODUCT_SAMPLES.find((p)=>p.id === productId);\n    const [areaId, setAreaId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(product.areas[0].id);\n    var _product_colors_find;\n    const [color, setColor] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((_product_colors_find = product.colors.find({\n        \"CaseComponent.useState\": (c)=>c.isDefault === true\n    }[\"CaseComponent.useState\"])) !== null && _product_colors_find !== void 0 ? _product_colors_find : {\n        id: 'white',\n        colorHex: '#FFFFFF'\n    });\n    const [instance, setInstance] = (0,_lib_CreativeEditor__WEBPACK_IMPORTED_MODULE_4__.useCreativeEditor)(null);\n    const isFirstRender = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(true);\n    // Ref to access current color in CE.SDK component callbacks without stale closures\n    const colorRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(color);\n    colorRef.current = color;\n    const config = (0,_lib_CreativeEditor__WEBPACK_IMPORTED_MODULE_4__.useConfig)({\n        \"CaseComponent.useConfig[config]\": ()=>({\n                role: 'Adopter',\n                theme: 'light',\n                license: \"\",\n                featureFlags: {\n                    singlePageMode: true\n                },\n                callbacks: {\n                    onUpload: 'local'\n                }\n            })\n    }[\"CaseComponent.useConfig[config]\"], []);\n    const configure = (0,_lib_CreativeEditor__WEBPACK_IMPORTED_MODULE_4__.useConfigure)({\n        \"CaseComponent.useConfigure[configure]\": async (instance)=>{\n            await instance.addDefaultAssetSources();\n            await instance.addDemoAssetSources({\n                sceneMode: 'Design'\n            });\n            // Disable placeholder and preview features\n            instance.feature.enable('ly.img.placeholder', false);\n            instance.feature.enable('ly.img.preview', false);\n            // Hide 'Resize' button on the navigation bar\n            instance.feature.enable('ly.img.page.resize', false);\n            instance.feature.enable('ly.img.options', false);\n            instance.feature.enable('ly.img.settings', false);\n            instance.ui.setDockOrder([\n                ...instance.ui.getDockOrder().filter({\n                    \"CaseComponent.useConfigure[configure]\": (param)=>{\n                        let { key } = param;\n                        return ![\n                            'ly.img.template'\n                        ].includes(key);\n                    }\n                }[\"CaseComponent.useConfigure[configure]\"])\n            ]);\n            instance.engine.editor.setSetting('page/title/show', false);\n            // Create initial scene with the first product\n            // Note: We don't call switchProductView here because the product update\n            // effect (line ~187) will handle it after the scene is created\n            const initialProduct = _product__WEBPACK_IMPORTED_MODULE_5__.PRODUCT_SAMPLES[0];\n            await (0,_ProductEditorUIConfig__WEBPACK_IMPORTED_MODULE_2__.createOrUpdateSceneByProduct)(instance.engine, initialProduct);\n        }\n    }[\"CaseComponent.useConfigure[configure]\"], []);\n    // Setup product-specific UI (area selector) after scene is ready\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CaseComponent.useEffect\": ()=>{\n            if (!instance || !product) return;\n            // Wait for next frame to ensure scene is ready\n            const timeoutId = setTimeout({\n                \"CaseComponent.useEffect.timeoutId\": ()=>{\n                    // Only show area selector if product has multiple areas\n                    if (product.areas.length > 1) {\n                        // Register custom component for front/back switching\n                        instance.ui.registerComponent('product-area-select', {\n                            \"CaseComponent.useEffect.timeoutId\": (param)=>{\n                                let { builder, engine } = param;\n                                // Read from engine for visual state - CE.SDK reactivity handles re-renders\n                                const currentPage = engine.scene.getCurrentPage();\n                                const currentAreaId = currentPage ? engine.block.getName(currentPage) : product.areas[0].id;\n                                builder.ButtonGroup('product-areas', {\n                                    children: {\n                                        \"CaseComponent.useEffect.timeoutId\": ()=>{\n                                            product.areas.forEach({\n                                                \"CaseComponent.useEffect.timeoutId\": (area)=>{\n                                                    builder.Button(area.id, {\n                                                        label: area.label,\n                                                        isActive: currentAreaId === area.id,\n                                                        onClick: {\n                                                            \"CaseComponent.useEffect.timeoutId\": ()=>{\n                                                                // Directly switch view in engine - CE.SDK reactivity updates the UI\n                                                                // Using colorRef.current to get latest color without stale closure\n                                                                (0,_ProductEditorUIConfig__WEBPACK_IMPORTED_MODULE_2__.switchProductView)(instance, area.id, colorRef.current);\n                                                            }\n                                                        }[\"CaseComponent.useEffect.timeoutId\"]\n                                                    });\n                                                }\n                                            }[\"CaseComponent.useEffect.timeoutId\"]);\n                                        }\n                                    }[\"CaseComponent.useEffect.timeoutId\"]\n                                });\n                            }\n                        }[\"CaseComponent.useEffect.timeoutId\"]);\n                        // Add the product area select component to the canvas bar\n                        instance.ui.setCanvasBarOrder([\n                            {\n                                id: 'ly.img.spacer'\n                            },\n                            {\n                                id: 'product-area-select'\n                            },\n                            {\n                                id: 'ly.img.spacer'\n                            }\n                        ], 'bottom');\n                    } else {\n                        // For single-area products, hide canvas bar elements\n                        instance.ui.setCanvasBarOrder([\n                            {\n                                id: 'ly.img.spacer'\n                            }\n                        ], 'bottom');\n                    }\n                }\n            }[\"CaseComponent.useEffect.timeoutId\"], 0);\n            return ({\n                \"CaseComponent.useEffect\": ()=>clearTimeout(timeoutId)\n            })[\"CaseComponent.useEffect\"];\n        }\n    }[\"CaseComponent.useEffect\"], [\n        instance,\n        product\n    ]);\n    // Reset area and color when product changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CaseComponent.useEffect\": ()=>{\n            if (product) {\n                // Reset the flag so the area/color effect doesn't run when we set these values\n                isFirstRender.current = true;\n                setAreaId(product.areas[0].id);\n                var _product_colors_find;\n                setColor((_product_colors_find = product.colors.find({\n                    \"CaseComponent.useEffect\": (c)=>c.isDefault === true\n                }[\"CaseComponent.useEffect\"])) !== null && _product_colors_find !== void 0 ? _product_colors_find : product.colors[0]);\n            }\n        }\n    }[\"CaseComponent.useEffect\"], [\n        productId,\n        product\n    ]);\n    // Create or update scene when product changes or instance initializes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CaseComponent.useEffect\": ()=>{\n            const updateScene = {\n                \"CaseComponent.useEffect.updateScene\": async ()=>{\n                    if (instance && product) {\n                        // This will only recreate mockups if product has changed\n                        const success = await (0,_ProductEditorUIConfig__WEBPACK_IMPORTED_MODULE_2__.createOrUpdateSceneByProduct)(instance.engine, product);\n                        // Only switch view if scene was successfully created/updated\n                        if (success) {\n                            // Check if current area exists in new product, otherwise use first area\n                            const targetArea = product.areas.find({\n                                \"CaseComponent.useEffect.updateScene.targetArea\": (a)=>a.id === areaId\n                            }[\"CaseComponent.useEffect.updateScene.targetArea\"]);\n                            const finalAreaId = targetArea ? areaId : product.areas[0].id;\n                            // Update areaId state if we had to fall back to first area\n                            if (!targetArea) {\n                                setAreaId(finalAreaId);\n                            }\n                            var _product_colors_find;\n                            // Use the default color for the new product (not the stale color state)\n                            const defaultColor = (_product_colors_find = product.colors.find({\n                                \"CaseComponent.useEffect.updateScene\": (c)=>c.isDefault === true\n                            }[\"CaseComponent.useEffect.updateScene\"])) !== null && _product_colors_find !== void 0 ? _product_colors_find : product.colors[0];\n                            (0,_ProductEditorUIConfig__WEBPACK_IMPORTED_MODULE_2__.switchProductView)(instance, finalAreaId, defaultColor);\n                        }\n                    }\n                }\n            }[\"CaseComponent.useEffect.updateScene\"];\n            updateScene();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }\n    }[\"CaseComponent.useEffect\"], [\n        instance,\n        productId\n    ]);\n    // Update the editor view when the selected color changes (but not product)\n    // Note: Area changes from button clicks go directly through switchProductView,\n    // this effect handles color changes from the sidebar\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CaseComponent.useEffect\": ()=>{\n            // Skip on first render - initial view is set by the product change effect\n            if (isFirstRender.current) {\n                isFirstRender.current = false;\n                return;\n            }\n            if (instance) {\n                (0,_ProductEditorUIConfig__WEBPACK_IMPORTED_MODULE_2__.switchProductView)(instance, areaId, color);\n            }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }\n    }[\"CaseComponent.useEffect\"], [\n        areaId,\n        color\n    ]);\n    // Keyboard shortcut: Press 'M' to enable product configurator mode\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CaseComponent.useEffect\": ()=>{\n            const handleKeyPress = {\n                \"CaseComponent.useEffect.handleKeyPress\": (event)=>{\n                    // Only trigger if 'M' key is pressed (not in an input field)\n                    if (event.key === 'm' && !event.ctrlKey && !event.metaKey && !event.altKey && event.target.tagName !== 'INPUT' && event.target.tagName !== 'TEXTAREA') {\n                        if (instance && product) {\n                            (0,_productConfigurator__WEBPACK_IMPORTED_MODULE_7__.enableProductConfigurator)(instance, product, areaId, color).catch({\n                                \"CaseComponent.useEffect.handleKeyPress\": (error)=>{\n                                    console.error('Failed to enable product configurator:', error);\n                                }\n                            }[\"CaseComponent.useEffect.handleKeyPress\"]);\n                        }\n                    }\n                }\n            }[\"CaseComponent.useEffect.handleKeyPress\"];\n            window.addEventListener('keydown', handleKeyPress);\n            return ({\n                \"CaseComponent.useEffect\": ()=>window.removeEventListener('keydown', handleKeyPress)\n            })[\"CaseComponent.useEffect\"];\n        }\n    }[\"CaseComponent.useEffect\"], [\n        instance,\n        product,\n        areaId,\n        color\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_CaseComponent_module_css__WEBPACK_IMPORTED_MODULE_3___default().wrapper),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"cesdkWrapperStyle\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_lib_CreativeEditor__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                    style: {\n                        '--ubq-InspectorBar-background': 'var(--ubq-canvas)'\n                    },\n                    onInstanceChange: setInstance,\n                    className: \"cesdkStyle\",\n                    config: config,\n                    configure: configure\n                }, void 0, false, {\n                    fileName: \"/home/kaua/Documentos/imgly-examples/src/components/case/CaseComponent.jsx\",\n                    lineNumber: 223,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/kaua/Documentos/imgly-examples/src/components/case/CaseComponent.jsx\",\n                lineNumber: 222,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_CaseComponent_module_css__WEBPACK_IMPORTED_MODULE_3___default().sidebar),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_FormSection__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                    productId: productId,\n                    setProductId: setProductId,\n                    product: product,\n                    color: color,\n                    setColor: setColor,\n                    cesdk: instance\n                }, void 0, false, {\n                    fileName: \"/home/kaua/Documentos/imgly-examples/src/components/case/CaseComponent.jsx\",\n                    lineNumber: 234,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/kaua/Documentos/imgly-examples/src/components/case/CaseComponent.jsx\",\n                lineNumber: 233,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/kaua/Documentos/imgly-examples/src/components/case/CaseComponent.jsx\",\n        lineNumber: 221,\n        columnNumber: 5\n    }, undefined);\n};\n_s(CaseComponent, \"FNlpltyiD3m1xjqkHQLAqA+xRTw=\", false, function() {\n    return [\n        _lib_CreativeEditor__WEBPACK_IMPORTED_MODULE_4__.useCreativeEditor,\n        _lib_CreativeEditor__WEBPACK_IMPORTED_MODULE_4__.useConfig,\n        _lib_CreativeEditor__WEBPACK_IMPORTED_MODULE_4__.useConfigure\n    ];\n});\n_c = CaseComponent;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CaseComponent);\nvar _c;\n$RefreshReg$(_c, \"CaseComponent\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2Nhc2UvQ2FzZUNvbXBvbmVudC5qc3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUVvRDtBQUluQjtBQUNnQjtBQUtuQjtBQUNjO0FBQ0o7QUFDMEI7QUFFbEUsTUFBTWEsZ0JBQWdCOztJQUNwQixNQUFNLENBQUNDLFdBQVdDLGFBQWEsR0FBR2QsK0NBQVFBLENBQUNTLHFEQUFlLENBQUMsRUFBRSxDQUFDTSxFQUFFO0lBQ2hFLE1BQU1DLFVBQVVQLHFEQUFlQSxDQUFDUSxJQUFJLENBQUMsQ0FBQ0MsSUFBTUEsRUFBRUgsRUFBRSxLQUFLRjtJQUNyRCxNQUFNLENBQUNNLFFBQVFDLFVBQVUsR0FBR3BCLCtDQUFRQSxDQUFDZ0IsUUFBUUssS0FBSyxDQUFDLEVBQUUsQ0FBQ04sRUFBRTtRQUV0REM7SUFERixNQUFNLENBQUNNLE9BQU9DLFNBQVMsR0FBR3ZCLCtDQUFRQSxDQUNoQ2dCLENBQUFBLHVCQUFBQSxRQUFRUSxNQUFNLENBQUNQLElBQUk7a0NBQUMsQ0FBQ1EsSUFBTUEsRUFBRUMsU0FBUyxLQUFLOzhDQUEzQ1Ysa0NBQUFBLHVCQUFvRDtRQUNsREQsSUFBSTtRQUNKWSxVQUFVO0lBQ1o7SUFFRixNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR3JCLHNFQUFpQkEsQ0FBQztJQUNsRCxNQUFNc0IsZ0JBQWdCN0IsNkNBQU1BLENBQUM7SUFDN0IsbUZBQW1GO0lBQ25GLE1BQU04QixXQUFXOUIsNkNBQU1BLENBQUNxQjtJQUN4QlMsU0FBU0MsT0FBTyxHQUFHVjtJQUNuQixNQUFNVyxTQUFTM0IsOERBQVNBOzJDQUN0QixJQUFPO2dCQUNMNEIsTUFBTTtnQkFDTkMsT0FBTztnQkFDUEMsU0FBU0MsRUFBK0I7Z0JBQ3hDRyxjQUFjO29CQUNaQyxnQkFBZ0I7Z0JBQ2xCO2dCQUNBQyxXQUFXO29CQUNUQyxVQUFVO2dCQUNaO1lBQ0Y7MENBQ0EsRUFBRTtJQUVKLE1BQU1DLFlBQVly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Q2xCd0UsV0FBVTtvQkFDVnBFLFFBQVFBO29CQUNSVyxXQUFXQTs7Ozs7Ozs7Ozs7MEJBR2YsOERBQUN3RDtnQkFBSUMsV0FBV2pHLDBFQUFlOzBCQUM3Qiw0RUFBQ00sb0RBQVdBO29CQUNWRyxXQUFXQTtvQkFDWEMsY0FBY0E7b0JBQ2RFLFNBQVNBO29CQUNUTSxPQUFPQTtvQkFDUEMsVUFBVUE7b0JBQ1ZtRixPQUFPOUU7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS2pCO0dBbk9NaEI7O1FBVTRCSixrRUFBaUJBO1FBS2xDRiwwREFBU0E7UUFjTkMsNkRBQVlBOzs7S0E3QjFCSztBQXFPTixpRUFBZUEsYUFBYUEsRUFBQyIsInNvdXJjZXMiOlsiL2hvbWUva2F1YS9Eb2N1bWVudG9zL2ltZ2x5LWV4YW1wbGVzL3NyYy9jb21wb25lbnRzL2Nhc2UvQ2FzZUNvbXBvbmVudC5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuICBjcmVhdGVPclVwZGF0ZVNjZW5lQnlQcm9kdWN0LFxuICBzd2l0Y2hQcm9kdWN0Vmlld1xufSBmcm9tICcuL1Byb2R1Y3RFZGl0b3JVSUNvbmZpZyc7XG5pbXBvcnQgY2xhc3NlcyBmcm9tICcuL0Nhc2VDb21wb25lbnQubW9kdWxlLmNzcyc7XG5pbXBvcnQgQ3JlYXRpdmVFZGl0b3IsIHtcbiAgdXNlQ29uZmlnLFxuICB1c2VDb25maWd1cmUsXG4gIHVzZUNyZWF0aXZlRWRpdG9yXG59IGZyb20gJy4vbGliL0NyZWF0aXZlRWRpdG9yJztcbmltcG9ydCB7IFBST0RVQ1RfU0FNUExFUyB9IGZyb20gJy4vcHJvZHVjdCc7XG5pbXBvcnQgRm9ybVNlY3Rpb24gZnJvbSAnLi9Gb3JtU2VjdGlvbic7XG5pbXBvcnQgeyBlbmFibGVQcm9kdWN0Q29uZmlndXJhdG9yIH0gZnJvbSAnLi9wcm9kdWN0Q29uZmlndXJhdG9yJztcblxuY29uc3QgQ2FzZUNvbXBvbmVudCA9ICgpID0+IHtcbiAgY29uc3QgW3Byb2R1Y3RJZCwgc2V0UHJvZHVjdElkXSA9IHVzZVN0YXRlKFBST0RVQ1RfU0FNUExFU1swXS5pZCk7XG4gIGNvbnN0IHByb2R1Y3QgPSBQUk9EVUNUX1NBTVBMRVMuZmluZCgocCkgPT4gcC5pZCA9PT0gcHJvZHVjdElkKTtcbiAgY29uc3QgW2FyZWFJZCwgc2V0QXJlYUlkXSA9IHVzZVN0YXRlKHByb2R1Y3QuYXJlYXNbMF0uaWQpO1xuICBjb25zdCBbY29sb3IsIHNldENvbG9yXSA9IHVzZVN0YXRlKFxuICAgIHByb2R1Y3QuY29sb3JzLmZpbmQoKGMpID0+IGMuaXNEZWZhdWx0ID09PSB0cnVlKSA/PyB7XG4gICAgICBpZDogJ3doaXRlJyxcbiAgICAgIGNvbG9ySGV4OiAnI0ZGRkZGRidcbiAgICB9XG4gICk7XG4gIGNvbnN0IFtpbnN0YW5jZSwgc2V0SW5zdGFuY2VdID0gdXNlQ3JlYXRpdmVFZGl0b3IobnVsbCk7XG4gIGNvbnN0IGlzRmlyc3RSZW5kZXIgPSB1c2VSZWYodHJ1ZSk7XG4gIC8vIFJlZiB0byBhY2Nlc3MgY3VycmVudCBjb2xvciBpbiBDRS5TREsgY29tcG9uZW50IGNhbGxiYWNrcyB3aXRob3V0IHN0YWxlIGNsb3N1cmVzXG4gIGNvbnN0IGNvbG9yUmVmID0gdXNlUmVmKGNvbG9yKTtcbiAgY29sb3JSZWYuY3VycmVudCA9IGNvbG9yO1xuICBjb25zdCBjb25maWcgPSB1c2VDb25maWcoXG4gICAgKCkgPT4gKHtcbiAgICAgIHJvbGU6ICdBZG9wdGVyJyxcbiAgICAgIHRoZW1lOiAnbGlnaHQnLFxuICAgICAgbGljZW5zZTogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfTElDRU5TRSxcbiAgICAgIGZlYXR1cmVGbGFnczoge1xuICAgICAgICBzaW5nbGVQYWdlTW9kZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICBvblVwbG9hZDogJ2xvY2FsJ1xuICAgICAgfVxuICAgIH0pLFxuICAgIFtdXG4gICk7XG4gIGNvbnN0IGNvbmZpZ3VyZSA9IHVzZUNvbmZpZ3VyZShcbiAgICBhc3luYyAoaW5zdGFuY2UpID0+IHtcbiAgICAgIGF3YWl0IGluc3RhbmNlLmFkZERlZmF1bHRBc3NldFNvdXJjZXMoKTtcbiAgICAgIGF3YWl0IGluc3RhbmNlLmFkZERlbW9Bc3NldFNvdXJjZXMoeyBzY2VuZU1vZGU6ICdEZXNpZ24nIH0pO1xuICAgICAgLy8gRGlzYWJsZSBwbGFjZWhvbGRlciBhbmQgcHJldmlldyBmZWF0dXJlc1xuICAgICAgaW5zdGFuY2UuZmVhdHVyZS5lbmFibGUoJ2x5LmltZy5wbGFjZWhvbGRlcicsIGZhbHNlKTtcbiAgICAgIGluc3RhbmNlLmZlYXR1cmUuZW5hYmxlKCdseS5pbWcucHJldmlldycsIGZhbHNlKTtcblxuICAgICAgLy8gSGlkZSAnUmVzaXplJyBidXR0b24gb24gdGhlIG5hdmlnYXRpb24gYmFyXG4gICAgICBpbnN0YW5jZS5mZWF0dXJlLmVuYWJsZSgnbHkuaW1nLnBhZ2UucmVzaXplJywgZmFsc2UpO1xuICAgICAgaW5zdGFuY2UuZmVhdHVyZS5lbmFibGUoJ2x5LmltZy5vcHRpb25zJywgZmFsc2UpO1xuICAgICAgaW5zdGFuY2UuZmVhdHVyZS5lbmFibGUoJ2x5LmltZy5zZXR0aW5ncycsIGZhbHNlKTtcbiAgICAgIGluc3RhbmNlLnVpLnNldERvY2tPcmRlcihbXG4gICAgICAgIC4uLmluc3RhbmNlLnVpXG4gICAgICAgICAgLmdldERvY2tPcmRlcigpXG4gICAgICAgICAgLmZpbHRlcigoeyBrZXkgfSkgPT4gIVsnbHkuaW1nLnRlbXBsYXRlJ10uaW5jbHVkZXMoa2V5KSlcbiAgICAgIF0pO1xuICAgICAgaW5zdGFuY2UuZW5naW5lLmVkaXRvci5zZXRTZXR0aW5nKCdwYWdlL3RpdGxlL3Nob3cnLCBmYWxzZSk7XG5cbiAgICAgIC8vIENyZWF0ZSBpbml0aWFsIHNjZW5lIHdpdGggdGhlIGZpcnN0IHByb2R1Y3RcbiAgICAgIC8vIE5vdGU6IFdlIGRvbid0IGNhbGwgc3dpdGNoUHJvZHVjdFZpZXcgaGVyZSBiZWNhdXNlIHRoZSBwcm9kdWN0IHVwZGF0ZVxuICAgICAgLy8gZWZmZWN0IChsaW5lIH4xODcpIHdpbGwgaGFuZGxlIGl0IGFmdGVyIHRoZSBzY2VuZSBpcyBjcmVhdGVkXG4gICAgICBjb25zdCBpbml0aWFsUHJvZHVjdCA9IFBST0RVQ1RfU0FNUExFU1swXTtcbiAgICAgIGF3YWl0IGNyZWF0ZU9yVXBkYXRlU2NlbmVCeVByb2R1Y3QoaW5zdGFuY2UuZW5naW5lLCBpbml0aWFsUHJvZHVjdCk7XG4gICAgfSxcbiAgICBbXVxuICApO1xuXG4gIC8vIFNldHVwIHByb2R1Y3Qtc3BlY2lmaWMgVUkgKGFyZWEgc2VsZWN0b3IpIGFmdGVyIHNjZW5lIGlzIHJlYWR5XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpbnN0YW5jZSB8fCAhcHJvZHVjdCkgcmV0dXJuO1xuXG4gICAgLy8gV2FpdCBmb3IgbmV4dCBmcmFtZSB0byBlbnN1cmUgc2NlbmUgaXMgcmVhZHlcbiAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIE9ubHkgc2hvdyBhcmVhIHNlbGVjdG9yIGlmIHByb2R1Y3QgaGFzIG11bHRpcGxlIGFyZWFzXG4gICAgICBpZiAocHJvZHVjdC5hcmVhcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIC8vIFJlZ2lzdGVyIGN1c3RvbSBjb21wb25lbnQgZm9yIGZyb250L2JhY2sgc3dpdGNoaW5nXG4gICAgICAgIGluc3RhbmNlLnVpLnJlZ2lzdGVyQ29tcG9uZW50KFxuICAgICAgICAgICdwcm9kdWN0LWFyZWEtc2VsZWN0JyxcbiAgICAgICAgICAoeyBidWlsZGVyLCBlbmdpbmUgfSkgPT4ge1xuICAgICAgICAgICAgLy8gUmVhZCBmcm9tIGVuZ2luZSBmb3IgdmlzdWFsIHN0YXRlIC0gQ0UuU0RLIHJlYWN0aXZpdHkgaGFuZGxlcyByZS1yZW5kZXJzXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UGFnZSA9IGVuZ2luZS5zY2VuZS5nZXRDdXJyZW50UGFnZSgpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEFyZWFJZCA9IGN1cnJlbnRQYWdlXG4gICAgICAgICAgICAgID8gZW5naW5lLmJsb2NrLmdldE5hbWUoY3VycmVudFBhZ2UpXG4gICAgICAgICAgICAgIDogcHJvZHVjdC5hcmVhc1swXS5pZDtcblxuICAgICAgICAgICAgYnVpbGRlci5CdXR0b25Hcm91cCgncHJvZHVjdC1hcmVhcycsIHtcbiAgICAgICAgICAgICAgY2hpbGRyZW46ICgpID0+IHtcbiAgICAgICAgICAgICAgICBwcm9kdWN0LmFyZWFzLmZvckVhY2goKGFyZWEpID0+IHtcbiAgICAgICAgICAgICAgICAgIGJ1aWxkZXIuQnV0dG9uKGFyZWEuaWQsIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGFyZWEubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIGlzQWN0aXZlOiBjdXJyZW50QXJlYUlkID09PSBhcmVhLmlkLFxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gRGlyZWN0bHkgc3dpdGNoIHZpZXcgaW4gZW5naW5lIC0gQ0UuU0RLIHJlYWN0aXZpdHkgdXBkYXRlcyB0aGUgVUlcbiAgICAgICAgICAgICAgICAgICAgICAvLyBVc2luZyBjb2xvclJlZi5jdXJyZW50IHRvIGdldCBsYXRlc3QgY29sb3Igd2l0aG91dCBzdGFsZSBjbG9zdXJlXG4gICAgICAgICAgICAgICAgICAgICAgc3dpdGNoUHJvZHVjdFZpZXcoaW5zdGFuY2UsIGFyZWEuaWQsIGNvbG9yUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIEFkZCB0aGUgcHJvZHVjdCBhcmVhIHNlbGVjdCBjb21wb25lbnQgdG8gdGhlIGNhbnZhcyBiYXJcbiAgICAgICAgaW5zdGFuY2UudWkuc2V0Q2FudmFzQmFyT3JkZXIoXG4gICAgICAgICAgW1xuICAgICAgICAgICAgeyBpZDogJ2x5LmltZy5zcGFjZXInIH0sXG4gICAgICAgICAgICB7IGlkOiAncHJvZHVjdC1hcmVhLXNlbGVjdCcgfSxcbiAgICAgICAgICAgIHsgaWQ6ICdseS5pbWcuc3BhY2VyJyB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICAnYm90dG9tJ1xuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIHNpbmdsZS1hcmVhIHByb2R1Y3RzLCBoaWRlIGNhbnZhcyBiYXIgZWxlbWVudHNcbiAgICAgICAgaW5zdGFuY2UudWkuc2V0Q2FudmFzQmFyT3JkZXIoXG4gICAgICAgICAgW1xuICAgICAgICAgICAgeyBpZDogJ2x5LmltZy5zcGFjZXInIH1cbiAgICAgICAgICBdLFxuICAgICAgICAgICdib3R0b20nXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSwgMCk7XG5cbiAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gIH0sIFtpbnN0YW5jZSwgcHJvZHVjdF0pO1xuXG4gIC8vIFJlc2V0IGFyZWEgYW5kIGNvbG9yIHdoZW4gcHJvZHVjdCBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHByb2R1Y3QpIHtcbiAgICAgIC8vIFJlc2V0IHRoZSBmbGFnIHNvIHRoZSBhcmVhL2NvbG9yIGVmZmVjdCBkb2Vzbid0IHJ1biB3aGVuIHdlIHNldCB0aGVzZSB2YWx1ZXNcbiAgICAgIGlzRmlyc3RSZW5kZXIuY3VycmVudCA9IHRydWU7XG4gICAgICBzZXRBcmVhSWQocHJvZHVjdC5hcmVhc1swXS5pZCk7XG4gICAgICBzZXRDb2xvcihcbiAgICAgICAgcHJvZHVjdC5jb2xvcnMuZmluZCgoYykgPT4gYy5pc0RlZmF1bHQgPT09IHRydWUpID8/IHByb2R1Y3QuY29sb3JzWzBdXG4gICAgICApO1xuICAgIH1cbiAgfSwgW3Byb2R1Y3RJZCwgcHJvZHVjdF0pO1xuXG4gIC8vIENyZWF0ZSBvciB1cGRhdGUgc2NlbmUgd2hlbiBwcm9kdWN0IGNoYW5nZXMgb3IgaW5zdGFuY2UgaW5pdGlhbGl6ZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1cGRhdGVTY2VuZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmIChpbnN0YW5jZSAmJiBwcm9kdWN0KSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCBvbmx5IHJlY3JlYXRlIG1vY2t1cHMgaWYgcHJvZHVjdCBoYXMgY2hhbmdlZFxuICAgICAgICBjb25zdCBzdWNjZXNzID0gYXdhaXQgY3JlYXRlT3JVcGRhdGVTY2VuZUJ5UHJvZHVjdChcbiAgICAgICAgICBpbnN0YW5jZS5lbmdpbmUsXG4gICAgICAgICAgcHJvZHVjdFxuICAgICAgICApO1xuICAgICAgICAvLyBPbmx5IHN3aXRjaCB2aWV3IGlmIHNjZW5lIHdhcyBzdWNjZXNzZnVsbHkgY3JlYXRlZC91cGRhdGVkXG4gICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgY3VycmVudCBhcmVhIGV4aXN0cyBpbiBuZXcgcHJvZHVjdCwgb3RoZXJ3aXNlIHVzZSBmaXJzdCBhcmVhXG4gICAgICAgICAgY29uc3QgdGFyZ2V0QXJlYSA9IHByb2R1Y3QuYXJlYXMuZmluZCgoYSkgPT4gYS5pZCA9PT0gYXJlYUlkKTtcbiAgICAgICAgICBjb25zdCBmaW5hbEFyZWFJZCA9IHRhcmdldEFyZWEgPyBhcmVhSWQgOiBwcm9kdWN0LmFyZWFzWzBdLmlkO1xuXG4gICAgICAgICAgLy8gVXBkYXRlIGFyZWFJZCBzdGF0ZSBpZiB3ZSBoYWQgdG8gZmFsbCBiYWNrIHRvIGZpcnN0IGFyZWFcbiAgICAgICAgICBpZiAoIXRhcmdldEFyZWEpIHtcbiAgICAgICAgICAgIHNldEFyZWFJZChmaW5hbEFyZWFJZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gVXNlIHRoZSBkZWZhdWx0IGNvbG9yIGZvciB0aGUgbmV3IHByb2R1Y3QgKG5vdCB0aGUgc3RhbGUgY29sb3Igc3RhdGUpXG4gICAgICAgICAgY29uc3QgZGVmYXVsdENvbG9yID1cbiAgICAgICAgICAgIHByb2R1Y3QuY29sb3JzLmZpbmQoKGMpID0+IGMuaXNEZWZhdWx0ID09PSB0cnVlKSA/P1xuICAgICAgICAgICAgcHJvZHVjdC5jb2xvcnNbMF07XG4gICAgICAgICAgc3dpdGNoUHJvZHVjdFZpZXcoaW5zdGFuY2UsIGZpbmFsQXJlYUlkLCBkZWZhdWx0Q29sb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICB1cGRhdGVTY2VuZSgpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW2luc3RhbmNlLCBwcm9kdWN0SWRdKTtcblxuICAvLyBVcGRhdGUgdGhlIGVkaXRvciB2aWV3IHdoZW4gdGhlIHNlbGVjdGVkIGNvbG9yIGNoYW5nZXMgKGJ1dCBub3QgcHJvZHVjdClcbiAgLy8gTm90ZTogQXJlYSBjaGFuZ2VzIGZyb20gYnV0dG9uIGNsaWNrcyBnbyBkaXJlY3RseSB0aHJvdWdoIHN3aXRjaFByb2R1Y3RWaWV3LFxuICAvLyB0aGlzIGVmZmVjdCBoYW5kbGVzIGNvbG9yIGNoYW5nZXMgZnJvbSB0aGUgc2lkZWJhclxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIFNraXAgb24gZmlyc3QgcmVuZGVyIC0gaW5pdGlhbCB2aWV3IGlzIHNldCBieSB0aGUgcHJvZHVjdCBjaGFuZ2UgZWZmZWN0XG4gICAgaWYgKGlzRmlyc3RSZW5kZXIuY3VycmVudCkge1xuICAgICAgaXNGaXJzdFJlbmRlci5jdXJyZW50ID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICBzd2l0Y2hQcm9kdWN0VmlldyhpbnN0YW5jZSwgYXJlYUlkLCBjb2xvcik7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW2FyZWFJZCwgY29sb3JdKTtcblxuICAvLyBLZXlib2FyZCBzaG9ydGN1dDogUHJlc3MgJ00nIHRvIGVuYWJsZSBwcm9kdWN0IGNvbmZpZ3VyYXRvciBtb2RlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlS2V5UHJlc3MgPSAoZXZlbnQpID0+IHtcbiAgICAgIC8vIE9ubHkgdHJpZ2dlciBpZiAnTScga2V5IGlzIHByZXNzZWQgKG5vdCBpbiBhbiBpbnB1dCBmaWVsZClcbiAgICAgIGlmIChcbiAgICAgICAgZXZlbnQua2V5ID09PSAnbScgJiZcbiAgICAgICAgIWV2ZW50LmN0cmxLZXkgJiZcbiAgICAgICAgIWV2ZW50Lm1ldGFLZXkgJiZcbiAgICAgICAgIWV2ZW50LmFsdEtleSAmJlxuICAgICAgICBldmVudC50YXJnZXQudGFnTmFtZSAhPT0gJ0lOUFVUJyAmJlxuICAgICAgICBldmVudC50YXJnZXQudGFnTmFtZSAhPT0gJ1RFWFRBUkVBJ1xuICAgICAgKSB7XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBwcm9kdWN0KSB7XG4gICAgICAgICAgZW5hYmxlUHJvZHVjdENvbmZpZ3VyYXRvcihpbnN0YW5jZSwgcHJvZHVjdCwgYXJlYUlkLCBjb2xvcikuY2F0Y2goXG4gICAgICAgICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGVuYWJsZSBwcm9kdWN0IGNvbmZpZ3VyYXRvcjonLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleVByZXNzKTtcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlQcmVzcyk7XG4gIH0sIFtpbnN0YW5jZSwgcHJvZHVjdCwgYXJlYUlkLCBjb2xvcl0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMud3JhcHBlcn0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNlc2RrV3JhcHBlclN0eWxlXCI+XG4gICAgICAgIDxDcmVhdGl2ZUVkaXRvclxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAnLS11YnEtSW5zcGVjdG9yQmFyLWJhY2tncm91bmQnOiAndmFyKC0tdWJxLWNhbnZhcyknXG4gICAgICAgICAgfX1cbiAgICAgICAgICBvbkluc3RhbmNlQ2hhbmdlPXtzZXRJbnN0YW5jZX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJjZXNka1N0eWxlXCJcbiAgICAgICAgICBjb25maWc9e2NvbmZpZ31cbiAgICAgICAgICBjb25maWd1cmU9e2NvbmZpZ3VyZX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuc2lkZWJhcn0+XG4gICAgICAgIDxGb3JtU2VjdGlvblxuICAgICAgICAgIHByb2R1Y3RJZD17cHJvZHVjdElkfVxuICAgICAgICAgIHNldFByb2R1Y3RJZD17c2V0UHJvZHVjdElkfVxuICAgICAgICAgIHByb2R1Y3Q9e3Byb2R1Y3R9XG4gICAgICAgICAgY29sb3I9e2NvbG9yfVxuICAgICAgICAgIHNldENvbG9yPXtzZXRDb2xvcn1cbiAgICAgICAgICBjZXNkaz17aW5zdGFuY2V9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IENhc2VDb21wb25lbnQ7XG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VSZWYiLCJjcmVhdGVPclVwZGF0ZVNjZW5lQnlQcm9kdWN0Iiwic3dpdGNoUHJvZHVjdFZpZXciLCJjbGFzc2VzIiwiQ3JlYXRpdmVFZGl0b3IiLCJ1c2VDb25maWciLCJ1c2VDb25maWd1cmUiLCJ1c2VDcmVhdGl2ZUVkaXRvciIsIlBST0RVQ1RfU0FNUExFUyIsIkZvcm1TZWN0aW9uIiwiZW5hYmxlUHJvZHVjdENvbmZpZ3VyYXRvciIsIkNhc2VDb21wb25lbnQiLCJwcm9kdWN0SWQiLCJzZXRQcm9kdWN0SWQiLCJpZCIsInByb2R1Y3QiLCJmaW5kIiwicCIsImFyZWFJZCIsInNldEFyZWFJZCIsImFyZWFzIiwiY29sb3IiLCJzZXRDb2xvciIsImNvbG9ycyIsImMiLCJpc0RlZmF1bHQiLCJjb2xvckhleCIsImluc3RhbmNlIiwic2V0SW5zdGFuY2UiLCJpc0ZpcnN0UmVuZGVyIiwiY29sb3JSZWYiLCJjdXJyZW50IiwiY29uZmlnIiwicm9sZSIsInRoZW1lIiwibGljZW5zZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19MSUNFTlNFIiwiZmVhdHVyZUZsYWdzIiwic2luZ2xlUGFnZU1vZGUiLCJjYWxsYmFja3MiLCJvblVwbG9hZCIsImNvbmZpZ3VyZSIsImFkZERlZmF1bHRBc3NldFNvdXJjZXMiLCJhZGREZW1vQXNzZXRTb3VyY2VzIiwic2NlbmVNb2RlIiwiZmVhdHVyZSIsImVuYWJsZSIsInVpIiwic2V0RG9ja09yZGVyIiwiZ2V0RG9ja09yZGVyIiwiZmlsdGVyIiwia2V5IiwiaW5jbHVkZXMiLCJlbmdpbmUiLCJlZGl0b3IiLCJzZXRTZXR0aW5nIiwiaW5pdGlhbFByb2R1Y3QiLCJ0aW1lb3V0SWQiLCJzZXRUaW1lb3V0IiwibGVuZ3RoIiwicmVnaXN0ZXJDb21wb25lbnQiLCJidWlsZGVyIiwiY3VycmVudFBhZ2UiLCJzY2VuZSIsImdldEN1cnJlbnRQYWdlIiwiY3VycmVudEFyZWFJZCIsImJsb2NrIiwiZ2V0TmFtZSIsIkJ1dHRvbkdyb3VwIiwiY2hpbGRyZW4iLCJmb3JFYWNoIiwiYXJlYSIsIkJ1dHRvbiIsImxhYmVsIiwiaXNBY3RpdmUiLCJvbkNsaWNrIiwic2V0Q2FudmFzQmFyT3JkZXIiLCJjbGVhclRpbWVvdXQiLCJ1cGRhdGVTY2VuZSIsInN1Y2Nlc3MiLCJ0YXJnZXRBcmVhIiwiYSIsImZpbmFsQXJlYUlkIiwiZGVmYXVsdENvbG9yIiwiaGFuZGxlS2V5UHJlc3MiLCJldmVudCIsImN0cmxLZXkiLCJtZXRhS2V5IiwiYWx0S2V5IiwidGFyZ2V0IiwidGFnTmFtZSIsImNhdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkaXYiLCJjbGFzc05hbWUiLCJ3cmFwcGVyIiwic3R5bGUiLCJvbkluc3RhbmNlQ2hhbmdlIiwic2lkZWJhciIsImNlc2RrIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/case/CaseComponent.jsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/case/FormSection.tsx":
/*!*********************************************!*\
  !*** ./src/components/case/FormSection.tsx ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/.pnpm/next@15.1.9_@babel+core@7.28.6_react-dom@19.0.1_react@19.0.1__react@19.0.1/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _FormSection_module_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FormSection.module.css */ \"(app-pages-browser)/./src/components/case/FormSection.module.css\");\n/* harmony import */ var _FormSection_module_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_FormSection_module_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ \"(app-pages-browser)/./node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _ProductEditorUIConfig__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ProductEditorUIConfig */ \"(app-pages-browser)/./src/components/case/ProductEditorUIConfig.ts\");\n/* harmony import */ var _product__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./product */ \"(app-pages-browser)/./src/components/case/product.ts\");\n\n\n\n\n\nfunction FormSection(param) {\n    let { productId, setProductId, product, color, setColor, cesdk } = param;\n    async function onAssetsDownload() {\n        if (!cesdk) {\n            console.warn('Editor not initialized yet');\n            return;\n        }\n        const { archive, pdfs, thumbnails } = await (0,_ProductEditorUIConfig__WEBPACK_IMPORTED_MODULE_3__.exportDesigns)(cesdk, product);\n        for (const [areaId, pdf] of Object.entries(pdfs)){\n            localDownload(pdf, \"scene-\".concat(new Date().toISOString(), \"-\").concat(areaId, \".pdf\"));\n        }\n        for (const [areaId, thumbnail] of Object.entries(thumbnails)){\n            localDownload(thumbnail, \"scene-thumbnail-\".concat(new Date().toISOString(), \"-\").concat(areaId, \".png\"));\n        }\n        localDownload(archive, \"scene-\".concat(new Date().toISOString(), \".zip\"));\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_FormSection_module_css__WEBPACK_IMPORTED_MODULE_1___default().formWrapper),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_FormSection_module_css__WEBPACK_IMPORTED_MODULE_1___default().subSection),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_FormSection_module_css__WEBPACK_IMPORTED_MODULE_1___default().subSectionTitle),\n                        children: \"Product\"\n                    }, void 0, false, {\n                        fileName: \"/home/kaua/Documentos/imgly-examples/src/components/case/FormSection.tsx\",\n                        lineNumber: 46,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_FormSection_module_css__WEBPACK_IMPORTED_MODULE_1___default().productGrid),\n                        children: _product__WEBPACK_IMPORTED_MODULE_4__.PRODUCT_SAMPLES.map((p)=>{\n                            const thumbnailPath = \"\".concat(\"http://localhost:3000\").concat(\"\", \"/cases/product-editor-ui/\").concat(p.id, \"/thumbnail.png\");\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: classnames__WEBPACK_IMPORTED_MODULE_2___default()((_FormSection_module_css__WEBPACK_IMPORTED_MODULE_1___default().productButton), {\n                                    [(_FormSection_module_css__WEBPACK_IMPORTED_MODULE_1___default().productButtonActive)]: productId === p.id\n                                }),\n                                onClick: ()=>setProductId(p.id),\n                                title: p.label,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                        src: thumbnailPath,\n                                        alt: p.label,\n                                        className: (_FormSection_module_css__WEBPACK_IMPORTED_MODULE_1___default().productThumbnail)\n                                    }, void 0, false, {\n                                        fileName: \"/home/kaua/Documentos/imgly-examples/src/components/case/FormSection.tsx\",\n                                        lineNumber: 60,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: (_FormSection_module_css__WEBPACK_IMPORTED_MODULE_1___default().productLabel),\n                                        children: p.label\n                                    }, void 0, false, {\n                                        fileName: \"/home/kaua/Documentos/imgly-examples/src/components/case/FormSection.tsx\",\n                                        lineNumber: 65,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, p.id, true, {\n                                fileName: \"/home/kaua/Documentos/imgly-examples/src/components/case/FormSection.tsx\",\n                                lineNumber: 52,\n                                columnNumber: 15\n                            }, this);\n                        })\n                    }, void 0, false, {\n                        fileName: \"/home/kaua/Documentos/imgly-examples/src/components/case/FormSection.tsx\",\n                        lineNumber: 47,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/kaua/Documentos/imgly-examples/src/components/case/FormSection.tsx\",\n                lineNumber: 45,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_FormSection_module_css__WEBPACK_IMPORTED_MODULE_1___default().subSection),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_FormSection_module_css__WEBPACK_IMPORTED_MODULE_1___default().subSectionTitle),\n                        children: \"Color\"\n                    }, void 0, false, {\n                        fileName: \"/home/kaua/Documentos/imgly-examples/src/components/case/FormSection.tsx\",\n                        lineNumber: 74,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_FormSection_module_css__WEBPACK_IMPORTED_MODULE_1___default().colorPicker),\n                        children: product.colors.map((c)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: classnames__WEBPACK_IMPORTED_MODULE_2___default()((_FormSection_module_css__WEBPACK_IMPORTED_MODULE_1___default().colorPickerButtonWrapper), {\n                                    [(_FormSection_module_css__WEBPACK_IMPORTED_MODULE_1___default().active)]: color.id === c.id\n                                }),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    style: {\n                                        backgroundColor: c.colorHex\n                                    },\n                                    onClick: ()=>setColor(c),\n                                    className: (_FormSection_module_css__WEBPACK_IMPORTED_MODULE_1___default().colorPickerButton),\n                                    title: c.id\n                                }, void 0, false, {\n                                    fileName: \"/home/kaua/Documentos/imgly-examples/src/components/case/FormSection.tsx\",\n                                    lineNumber: 83,\n                                    columnNumber: 15\n                                }, this)\n                            }, c.id, false, {\n                                fileName: \"/home/kaua/Documentos/imgly-examples/src/components/case/FormSection.tsx\",\n                                lineNumber: 77,\n                                columnNumber: 13\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/home/kaua/Documentos/imgly-examples/src/components/case/FormSection.tsx\",\n                        lineNumber: 75,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/kaua/Documentos/imgly-examples/src/components/case/FormSection.tsx\",\n                lineNumber: 73,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_FormSection_module_css__WEBPACK_IMPORTED_MODULE_1___default().subSection),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()((_FormSection_module_css__WEBPACK_IMPORTED_MODULE_1___default().centeredText), 'paragraphSmall--black'),\n                    children: [\n                        \"This is a demo. Download generated assets\",\n                        ' ',\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onAssetsDownload,\n                            className: (_FormSection_module_css__WEBPACK_IMPORTED_MODULE_1___default().downloadLinkText),\n                            children: \"here\"\n                        }, void 0, false, {\n                            fileName: \"/home/kaua/Documentos/imgly-examples/src/components/case/FormSection.tsx\",\n                            lineNumber: 98,\n                            columnNumber: 11\n                        }, this),\n                        \".\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/kaua/Documentos/imgly-examples/src/components/case/FormSection.tsx\",\n                    lineNumber: 96,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/kaua/Documentos/imgly-examples/src/components/case/FormSection.tsx\",\n                lineNumber: 95,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/kaua/Documentos/imgly-examples/src/components/case/FormSection.tsx\",\n        lineNumber: 43,\n        columnNumber: 5\n    }, this);\n}\n_c = FormSection;\nfunction localDownload(blob, filename) {\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.style.display = 'none';\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    URL.revokeObjectURL(url);\n    a.remove();\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FormSection);\nvar _c;\n$RefreshReg$(_c, \"FormSection\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2Nhc2UvRm9ybVNlY3Rpb24udHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUErQztBQUNYO0FBQ2lEO0FBQ3pDO0FBWTVDLFNBQVNJLFlBQVksS0FPRjtRQVBFLEVBQ25CQyxTQUFTLEVBQ1RDLFlBQVksRUFDWkMsT0FBTyxFQUNQQyxLQUFLLEVBQ0xDLFFBQVEsRUFDUkMsS0FBSyxFQUNZLEdBUEU7SUFRbkIsZUFBZUM7UUFDYixJQUFJLENBQUNELE9BQU87WUFDVkUsUUFBUUMsSUFBSSxDQUFDO1lBQ2I7UUFDRjtRQUNBLE1BQU0sRUFBRUMsT0FBTyxFQUFFQyxJQUFJLEVBQUVDLFVBQVUsRUFBRSxHQUFHLE1BQU1kLHFFQUFhQSxDQUFDUSxPQUFPSDtRQUNqRSxLQUFLLE1BQU0sQ0FBQ1UsUUFBUUMsSUFBSSxJQUFJQyxPQUFPQyxPQUFPLENBQUNMLE1BQU87WUFDaERNLGNBQWNILEtBQUssU0FBcUNELE9BQTVCLElBQUlLLE9BQU9DLFdBQVcsSUFBRyxLQUFVLE9BQVBOLFFBQU87UUFDakU7UUFDQSxLQUFLLE1BQU0sQ0FBQ0EsUUFBUU8sVUFBVSxJQUFJTCxPQUFPQyxPQUFPLENBQUNKLFlBQWE7WUFDNURLLGNBQ0VHLFdBQ0EsbUJBQStDUCxPQUE1QixJQUFJSyxPQUFPQyxXQUFXLElBQUcsS0FBVSxPQUFQTixRQUFPO1FBRTFEO1FBQ0FJLGNBQWNQLFNBQVMsU0FBa0MsT0FBekIsSUFBSVEsT0FBT0MsV0FBVyxJQUFHO0lBQzNEO0lBRUEscUJBQ0UsOERBQUNFO1FBQUlDLFdBQVcxQiw0RUFBbUI7OzBCQUVqQyw4REFBQ3lCO2dCQUFJQyxXQUFXMUIsMkVBQWtCOztrQ0FDaEMsOERBQUN5Qjt3QkFBSUMsV0FBVzFCLGdGQUF1QjtrQ0FBRTs7Ozs7O2tDQUN6Qyw4REFBQ3lCO3dCQUFJQyxXQUFXMUIsNEVBQW1CO2tDQUNoQ0cscURBQWVBLENBQUM0QixHQUFHLENBQUMsQ0FBQ0M7NEJBQ3BCLE1BQU1DLGdCQUFnQixHQUEwQ0MsT0FBdkNBLHVCQUFvQyxFQUEwREYsT0FBdkRFLEVBQTJCLEVBQUMsNkJBQWdDLE9BQUxGLEVBQUVNLEVBQUUsRUFBQzs0QkFFNUgscUJBQ0UsOERBQUNDO2dDQUVDYixXQUFXekIsaURBQVVBLENBQUNELDhFQUFxQixFQUFFO29DQUMzQyxDQUFDQSxvRkFBMkIsQ0FBQyxFQUFFSyxjQUFjMkIsRUFBRU0sRUFBRTtnQ0FDbkQ7Z0NBQ0FJLFNBQVMsSUFBTXBDLGFBQWEwQixFQUFFTSxFQUFFO2dDQUNoQ0ssT0FBT1gsRUFBRVksS0FBSzs7a0RBRWQsOERBQUNDO3dDQUNDQyxLQUFLYjt3Q0FDTGMsS0FBS2YsRUFBRVksS0FBSzt3Q0FDWmxCLFdBQVcxQixpRkFBd0I7Ozs7OztrREFFckMsOERBQUNpRDt3Q0FBS3ZCLFdBQVcxQiw2RUFBb0I7a0RBQUdnQyxFQUFFWSxLQUFLOzs7Ozs7OytCQVoxQ1osRUFBRU0sRUFBRTs7Ozs7d0JBZWY7Ozs7Ozs7Ozs7OzswQkFLSiw4REFBQ2I7Z0JBQUlDLFdBQVcxQiwyRUFBa0I7O2tDQUNoQyw4REFBQ3lCO3dCQUFJQyxXQUFXMUIsZ0ZBQXVCO2tDQUFFOzs7Ozs7a0NBQ3pDLDhEQUFDeUI7d0JBQUlDLFdBQVcxQiw0RUFBbUI7a0NBQ2hDTyxRQUFRNkMsTUFBTSxDQUFDckIsR0FBRyxDQUFDLENBQUNzQixrQkFDbkIsOERBQUM1QjtnQ0FFQ0MsV0FBV3pCLGlEQUFVQSxDQUFDRCx5RkFBZ0MsRUFBRTtvQ0FDdEQsQ0FBQ0EsdUVBQWMsQ0FBQyxFQUFFUSxNQUFNOEIsRUFBRSxLQUFLZSxFQUFFZixFQUFFO2dDQUNyQzswQ0FFQSw0RUFBQ0M7b0NBQ0NpQixPQUFPO3dDQUFFQyxpQkFBaUJKLEVBQUVLLFFBQVE7b0NBQUM7b0NBQ3JDaEIsU0FBUyxJQUFNakMsU0FBUzRDO29DQUN4QjNCLFdBQVcxQixrRkFBeUI7b0NBQ3BDMkMsT0FBT1UsRUFBRWYsRUFBRTs7Ozs7OytCQVRSZSxFQUFFZixFQUFFOzs7Ozs7Ozs7Ozs7Ozs7OzBCQWlCakIsOERBQUNiO2dCQUFJQyxXQUFXMUIsMkVBQWtCOzBCQUNoQyw0RUFBQ2dDO29CQUFFTixXQUFXekIsaURBQVVBLENBQUNELDZFQUFvQixFQUFFOzt3QkFBMEI7d0JBQzdCO3NDQUMxQyw4REFBQ3VDOzRCQUFPRyxTQUFTL0I7NEJBQWtCZSxXQUFXMUIsaUZBQXdCO3NDQUFFOzs7Ozs7d0JBRS9EOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNbkI7S0ExRlNJO0FBNEZULFNBQVNpQixjQUFjeUMsSUFBVSxFQUFFQyxRQUFnQjtJQUNqRCxNQUFNQyxNQUFNQyxJQUFJQyxlQUFlLENBQUNKO0lBQ2hDLE1BQU1LLElBQUlDLFNBQVNDLGFBQWEsQ0FBQztJQUNqQ0YsRUFBRVgsS0FBSyxDQUFDYyxPQUFPLEdBQUc7SUFDbEJILEVBQUVJLElBQUksR0FBR1A7SUFDVEcsRUFBRUssUUFBUSxHQUFHVDtJQUNiSyxTQUFTSyxJQUFJLENBQUNDLFdBQVcsQ0FBQ1A7SUFDMUJBLEVBQUVRLEtBQUs7SUFDUFYsSUFBSVcsZUFBZSxDQUFDWjtJQUNwQkcsRUFBRVUsTUFBTTtBQUNWO0FBRUEsaUVBQWV6RSxXQUFXQSxFQUFDIiwic291cmNlcyI6WyIvaG9tZS9rYXVhL0RvY3VtZW50b3MvaW1nbHktZXhhbXBsZXMvc3JjL2NvbXBvbmVudHMvY2FzZS9Gb3JtU2VjdGlvbi50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsYXNzZXMgZnJvbSAnLi9Gb3JtU2VjdGlvbi5tb2R1bGUuY3NzJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgZXhwb3J0RGVzaWducywgUHJvZHVjdENvbG9yLCBQcm9kdWN0Q29uZmlnIH0gZnJvbSAnLi9Qcm9kdWN0RWRpdG9yVUlDb25maWcnO1xuaW1wb3J0IHsgUFJPRFVDVF9TQU1QTEVTIH0gZnJvbSAnLi9wcm9kdWN0JztcbmltcG9ydCBDcmVhdGl2ZUVkaXRvclNESyBmcm9tICdAY2VzZGsvY2VzZGstanMnO1xuXG5pbnRlcmZhY2UgRm9ybVNlY3Rpb25Qcm9wcyB7XG4gIHByb2R1Y3RJZDogc3RyaW5nO1xuICBzZXRQcm9kdWN0SWQ6IChwcm9kdWN0SWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgcHJvZHVjdDogUHJvZHVjdENvbmZpZztcbiAgY29sb3I6IFByb2R1Y3RDb2xvcjtcbiAgc2V0Q29sb3I6IChjb2xvcjogUHJvZHVjdENvbG9yKSA9PiB2b2lkO1xuICBjZXNkazogQ3JlYXRpdmVFZGl0b3JTREsgfCBudWxsO1xufVxuXG5mdW5jdGlvbiBGb3JtU2VjdGlvbih7XG4gIHByb2R1Y3RJZCxcbiAgc2V0UHJvZHVjdElkLFxuICBwcm9kdWN0LFxuICBjb2xvcixcbiAgc2V0Q29sb3IsXG4gIGNlc2RrXG59OiBGb3JtU2VjdGlvblByb3BzKSB7XG4gIGFzeW5jIGZ1bmN0aW9uIG9uQXNzZXRzRG93bmxvYWQoKSB7XG4gICAgaWYgKCFjZXNkaykge1xuICAgICAgY29uc29sZS53YXJuKCdFZGl0b3Igbm90IGluaXRpYWxpemVkIHlldCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB7IGFyY2hpdmUsIHBkZnMsIHRodW1ibmFpbHMgfSA9IGF3YWl0IGV4cG9ydERlc2lnbnMoY2VzZGssIHByb2R1Y3QpO1xuICAgIGZvciAoY29uc3QgW2FyZWFJZCwgcGRmXSBvZiBPYmplY3QuZW50cmllcyhwZGZzKSkge1xuICAgICAgbG9jYWxEb3dubG9hZChwZGYsIGBzY2VuZS0ke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX0tJHthcmVhSWR9LnBkZmApO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IFthcmVhSWQsIHRodW1ibmFpbF0gb2YgT2JqZWN0LmVudHJpZXModGh1bWJuYWlscykpIHtcbiAgICAgIGxvY2FsRG93bmxvYWQoXG4gICAgICAgIHRodW1ibmFpbCxcbiAgICAgICAgYHNjZW5lLXRodW1ibmFpbC0ke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX0tJHthcmVhSWR9LnBuZ2BcbiAgICAgICk7XG4gICAgfVxuICAgIGxvY2FsRG93bmxvYWQoYXJjaGl2ZSwgYHNjZW5lLSR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfS56aXBgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuZm9ybVdyYXBwZXJ9PlxuICAgICAgey8qIFByb2R1Y3QgU2VsZWN0aW9uICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuc3ViU2VjdGlvbn0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnN1YlNlY3Rpb25UaXRsZX0+UHJvZHVjdDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5wcm9kdWN0R3JpZH0+XG4gICAgICAgICAge1BST0RVQ1RfU0FNUExFUy5tYXAoKHApID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRodW1ibmFpbFBhdGggPSBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19VUkxfSE9TVE5BTUV9JHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19VUkx9L2Nhc2VzL3Byb2R1Y3QtZWRpdG9yLXVpLyR7cC5pZH0vdGh1bWJuYWlsLnBuZ2A7XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBrZXk9e3AuaWR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMucHJvZHVjdEJ1dHRvbiwge1xuICAgICAgICAgICAgICAgICAgW2NsYXNzZXMucHJvZHVjdEJ1dHRvbkFjdGl2ZV06IHByb2R1Y3RJZCA9PT0gcC5pZFxuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFByb2R1Y3RJZChwLmlkKX1cbiAgICAgICAgICAgICAgICB0aXRsZT17cC5sYWJlbH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgIHNyYz17dGh1bWJuYWlsUGF0aH1cbiAgICAgICAgICAgICAgICAgIGFsdD17cC5sYWJlbH1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5wcm9kdWN0VGh1bWJuYWlsfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc2VzLnByb2R1Y3RMYWJlbH0+e3AubGFiZWx9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBDb2xvciBTZWxlY3Rpb24gKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5zdWJTZWN0aW9ufT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuc3ViU2VjdGlvblRpdGxlfT5Db2xvcjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5jb2xvclBpY2tlcn0+XG4gICAgICAgICAge3Byb2R1Y3QuY29sb3JzLm1hcCgoYykgPT4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBrZXk9e2MuaWR9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhjbGFzc2VzLmNvbG9yUGlja2VyQnV0dG9uV3JhcHBlciwge1xuICAgICAgICAgICAgICAgIFtjbGFzc2VzLmFjdGl2ZV06IGNvbG9yLmlkID09PSBjLmlkXG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiBjLmNvbG9ySGV4IH19XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Q29sb3IoYyl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmNvbG9yUGlja2VyQnV0dG9ufVxuICAgICAgICAgICAgICAgIHRpdGxlPXtjLmlkfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBEb3dubG9hZCBBc3NldHMgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5zdWJTZWN0aW9ufT5cbiAgICAgICAgPHAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzZXMuY2VudGVyZWRUZXh0LCAncGFyYWdyYXBoU21hbGwtLWJsYWNrJyl9PlxuICAgICAgICAgIFRoaXMgaXMgYSBkZW1vLiBEb3dubG9hZCBnZW5lcmF0ZWQgYXNzZXRzeycgJ31cbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQXNzZXRzRG93bmxvYWR9IGNsYXNzTmFtZT17Y2xhc3Nlcy5kb3dubG9hZExpbmtUZXh0fT5cbiAgICAgICAgICAgIGhlcmVcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAuXG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiBsb2NhbERvd25sb2FkKGJsb2I6IEJsb2IsIGZpbGVuYW1lOiBzdHJpbmcpIHtcbiAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgYS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICBhLmhyZWYgPSB1cmw7XG4gIGEuZG93bmxvYWQgPSBmaWxlbmFtZTtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgYS5jbGljaygpO1xuICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gIGEucmVtb3ZlKCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1TZWN0aW9uO1xuIl0sIm5hbWVzIjpbImNsYXNzZXMiLCJjbGFzc05hbWVzIiwiZXhwb3J0RGVzaWducyIsIlBST0RVQ1RfU0FNUExFUyIsIkZvcm1TZWN0aW9uIiwicHJvZHVjdElkIiwic2V0UHJvZHVjdElkIiwicHJvZHVjdCIsImNvbG9yIiwic2V0Q29sb3IiLCJjZXNkayIsIm9uQXNzZXRzRG93bmxvYWQiLCJjb25zb2xlIiwid2FybiIsImFyY2hpdmUiLCJwZGZzIiwidGh1bWJuYWlscyIsImFyZWFJZCIsInBkZiIsIk9iamVjdCIsImVudHJpZXMiLCJsb2NhbERvd25sb2FkIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwidGh1bWJuYWlsIiwiZGl2IiwiY2xhc3NOYW1lIiwiZm9ybVdyYXBwZXIiLCJzdWJTZWN0aW9uIiwic3ViU2VjdGlvblRpdGxlIiwicHJvZHVjdEdyaWQiLCJtYXAiLCJwIiwidGh1bWJuYWlsUGF0aCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19VUkxfSE9TVE5BTUUiLCJORVhUX1BVQkxJQ19VUkwiLCJpZCIsImJ1dHRvbiIsInByb2R1Y3RCdXR0b24iLCJwcm9kdWN0QnV0dG9uQWN0aXZlIiwib25DbGljayIsInRpdGxlIiwibGFiZWwiLCJpbWciLCJzcmMiLCJhbHQiLCJwcm9kdWN0VGh1bWJuYWlsIiwic3BhbiIsInByb2R1Y3RMYWJlbCIsImNvbG9yUGlja2VyIiwiY29sb3JzIiwiYyIsImNvbG9yUGlja2VyQnV0dG9uV3JhcHBlciIsImFjdGl2ZSIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3JIZXgiLCJjb2xvclBpY2tlckJ1dHRvbiIsImNlbnRlcmVkVGV4dCIsImRvd25sb2FkTGlua1RleHQiLCJibG9iIiwiZmlsZW5hbWUiLCJ1cmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJhIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZGlzcGxheSIsImhyZWYiLCJkb3dubG9hZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmV2b2tlT2JqZWN0VVJMIiwicmVtb3ZlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/case/FormSection.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/case/ProductEditorUIConfig.ts":
/*!******************************************************!*\
  !*** ./src/components/case/ProductEditorUIConfig.ts ***!
  \******************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createOrUpdateSceneByProduct: () => (/* binding */ createOrUpdateSceneByProduct),\n/* harmony export */   exportDesigns: () => (/* binding */ exportDesigns),\n/* harmony export */   getProductData: () => (/* binding */ getProductData),\n/* harmony export */   setProductData: () => (/* binding */ setProductData),\n/* harmony export */   switchProductView: () => (/* binding */ switchProductView)\n/* harmony export */ });\nconst EXPORT_THUMBNAIL_SIZE = {\n    width: 200,\n    height: 200\n};\nconst PAGE_STROKE_COLOR = {\n    r: 0,\n    g: 0,\n    b: 0,\n    a: 1\n};\nconst PAGE_STROKE_WIDTH_RATIO = 0.005;\nconst ZOOM_PADDING = {\n    left: 40,\n    top: 80,\n    right: 40,\n    bottom: 100\n};\n/**\n * Exports the design, including an archive for resuming work, PDFs for printing, and thumbnails for UI previews.\n * @param instance - The CreativeEditorSDK instance.\n * @param product - The product configuration.\n * @returns An object containing the archive, PDFs, and thumbnails.\n */ async function exportDesigns(instance, product) {\n    const engine = instance.engine;\n    const archive = await engine.scene.saveToArchive();\n    const pages = engine.block.findByType('page');\n    const pdfs = {};\n    const thumbnails = {};\n    // Export PDFs and thumbnails with exporting masks (clean export without sign holders)\n    await updateMaskBlocksForProduct(engine, product, 'exporting');\n    for (const page of pages){\n        const areaId = engine.block.getName(page);\n        engine.block.setStrokeEnabled(page, false);\n        pdfs[areaId] = await engine.block.export(page, {\n            mimeType: 'application/pdf'\n        });\n        thumbnails[areaId] = await engine.block.export(page, {\n            mimeType: 'image/png',\n            targetWidth: EXPORT_THUMBNAIL_SIZE.width,\n            targetHeight: EXPORT_THUMBNAIL_SIZE.height\n        });\n        engine.block.setStrokeEnabled(page, true);\n    }\n    // Restore editing masks after export\n    await updateMaskBlocksForProduct(engine, product, 'editing');\n    return {\n        archive,\n        pdfs,\n        thumbnails\n    };\n}\n/**\n * Switches the editor view to a specific product area (page) and updates the mockup image.\n * @param instance - The CreativeEditorSDK instance.\n * @param areaId - The ID of the product area to switch to.\n * @param color - The selected product color.\n */ async function switchProductView(instance, areaId, color) {\n    const engine = instance.engine;\n    // Deselect all\n    instance.engine.block.findAllSelected().forEach((block)=>{\n        instance.engine.block.setSelected(block, false);\n    });\n    // Finds the page block corresponding to the given area ID\n    const page = instance.engine.block.findByName(areaId);\n    if (page.length !== 1) {\n        throw new Error(\"Found \".concat(page.length, \" pages with the name \").concat(areaId));\n    }\n    const mockupImageBlock = engine.block.findByName(\"Mockup-\".concat(areaId, \"-\").concat(color.id))[0];\n    const pageBlock = page[0];\n    // Switches the editor view to the specified page block\n    await instance.unstable_switchPage(pageBlock);\n    const currentVisibleMockupBlock = engine.block.findByKind(MOCKUP_IMAGE_BLOCK_KIND).find((block)=>engine.block.isVisible(block));\n    // Hide currently visible mockup (only if it's a different block and still valid)\n    if (currentVisibleMockupBlock && currentVisibleMockupBlock !== mockupImageBlock) {\n        try {\n            engine.block.setVisible(currentVisibleMockupBlock, false);\n        } catch (e) {\n        // Block may have been destroyed during product switch, ignore\n        }\n    }\n    // Show the new mockup\n    if (mockupImageBlock) {\n        engine.block.setVisible(mockupImageBlock, true);\n    }\n    // Always zoom to fit the mockup image within the view\n    // Using zoom.toBlock action with autoFit enables automatic zoom adjustment when viewport resizes\n    await instance.actions.run('zoom.toBlock', mockupImageBlock, {\n        padding: ZOOM_PADDING,\n        animate: false,\n        autoFit: true\n    });\n}\n/**\n * Creates or updates the scene based on the provided product configuration.\n * It sets up pages for each product area and configures the design unit.\n * @param engine - The CreativeEngine instance.\n * @param product - The product configuration.\n * @returns true if the scene was successfully created/updated, false otherwise.\n */ async function createOrUpdateSceneByProduct(engine, product) {\n    // Guard: Ensure scene module is available\n    if (!engine.scene) {\n        console.warn('Engine scene module not yet initialized');\n        return false;\n    }\n    var _engine_scene_get;\n    // Check if we have a scene or create it\n    const scene = (_engine_scene_get = engine.scene.get()) !== null && _engine_scene_get !== void 0 ? _engine_scene_get : engine.scene.create('Free');\n    // Disables dimming of out-of-page areas in the editor\n    engine.editor.setSettingBool('page/dimOutOfPageAreas', false);\n    // Sets the design unit for the scene\n    const designUnit = product.designUnit;\n    engine.scene.setDesignUnit(designUnit);\n    // Save the product as custom metadata, so we can access it later if needed\n    setProductData(engine, scene, product);\n    // Create pages for each area\n    const usedPageBlocks = product.areas.filter((param)=>{\n        let { disabled } = param;\n        return !disabled;\n    }).map((area)=>{\n        const pageBlocks = engine.block.findByName(area.id);\n        let pageBlock;\n        if (pageBlocks.length > 1) {\n            throw new Error(\"Found multiple page blocks with the name \".concat(area.label));\n        } else if (pageBlocks.length === 0) {\n            pageBlock = createPage(engine);\n        } else {\n            pageBlock = pageBlocks[0];\n        }\n        setupPageForArea(engine, pageBlock, area);\n        return pageBlock;\n    });\n    // Remove unused page blocks\n    const allPageBlocks = engine.block.findByType('page');\n    allPageBlocks.filter((pageBlock)=>!usedPageBlocks.includes(pageBlock)).forEach((pageBlock)=>{\n        engine.block.destroy(pageBlock);\n    });\n    // Update mockup blocks only if product has changed\n    await updateMockupBlocksForProduct(engine, product, scene);\n    // Update mask blocks for areas with mask configurations\n    await updateMaskBlocksForProduct(engine, product);\n    return true;\n}\n/**\n * Creates a new page block in the scene.\n * @param engine - The CreativeEngine instance.\n * @returns The ID of the created page block.\n */ function createPage(engine) {\n    const pageBlock = engine.block.create('page');\n    const sceneBlock = engine.scene.get();\n    engine.block.appendChild(sceneBlock, pageBlock);\n    // Sets the page background to transparent\n    const fill = engine.block.getFill(pageBlock);\n    engine.block.setFill(pageBlock, fill);\n    engine.block.setColor(fill, 'fill/color/value', {\n        r: 0,\n        g: 0,\n        b: 0,\n        a: 0\n    });\n    // Add a page stroke to indicate the page area\n    engine.block.setStrokeColor(pageBlock, PAGE_STROKE_COLOR);\n    engine.block.setStrokeEnabled(pageBlock, true);\n    engine.block.setStrokeStyle(pageBlock, 'Solid');\n    // Disables selection of the page in the editor.\n    engine.block.setScopeEnabled(pageBlock, 'editor/select', false);\n    // Sets the page block to be clipped, preventing content from overflowing.\n    engine.block.setClipped(pageBlock, true);\n    return pageBlock;\n}\n/**\n * Configures the page block for a specific product area, setting its dimensions and name.\n * Only updates properties if they have changed to avoid unnecessary engine operations.\n * Uses resizeContentAware to automatically scale all content proportionally.\n * @param engine - The CreativeEngine instance.\n * @param pageBlock - The ID of the page block to configure.\n * @param productArea - The product area configuration.\n */ function setupPageForArea(engine, pageBlock, productArea) {\n    var _productArea_mockup, _productArea_mockup1;\n    const width = productArea.pageSize.width;\n    const height = productArea.pageSize.height;\n    const strokeWidth = PAGE_STROKE_WIDTH_RATIO * width;\n    // Check if this area has masks (editing or exporting mask URLs)\n    const hasMasks = !!((_productArea_mockup = productArea.mockup) === null || _productArea_mockup === void 0 ? void 0 : _productArea_mockup.editingMaskUrl) || !!((_productArea_mockup1 = productArea.mockup) === null || _productArea_mockup1 === void 0 ? void 0 : _productArea_mockup1.exportingMaskUrl);\n    // Only update dimensions if they've changed\n    const currentWidth = engine.block.getWidth(pageBlock);\n    const currentHeight = engine.block.getHeight(pageBlock);\n    if (currentWidth !== width || currentHeight !== height) {\n        // Always use content-aware resizing to automatically scale all content\n        engine.block.resizeContentAware([\n            pageBlock\n        ], width, height);\n    }\n    // Only update stroke width if it's changed\n    const currentStrokeWidth = engine.block.getStrokeWidth(pageBlock);\n    if (currentStrokeWidth !== strokeWidth) {\n        engine.block.setStrokeWidth(pageBlock, strokeWidth);\n    }\n    // Disable stroke if masks are present, otherwise enable it\n    const shouldEnableStroke = !hasMasks;\n    engine.block.setStrokeEnabled(pageBlock, shouldEnableStroke);\n    // Only update name if it's changed\n    const currentName = engine.block.getName(pageBlock);\n    if (currentName !== productArea.id) {\n        engine.block.setName(pageBlock, productArea.id);\n    }\n}\nconst MOCKUP_IMAGE_BLOCK_KIND = 'mockup_image';\nconst MASK_IMAGE_BLOCK_KIND = 'mask_image';\n/**\n * Sets up the mockup image block in the creative engine with the provided configuration.\n * This includes setting the image source, disabling selection, and positioning the image block in the scene.\n *\n * @param {CreativeEngine} engine - The creative engine instance.\n * @param {number} mockupImageBlock - The ID of the mockup image block.\n * @param {ProductAreaMockupConfig} mockup - The mockup configuration object containing image source and positioning information.\n * @param {ProductColor} color - The color for the mockup.\n * @param {number} pageBlock - The page block ID for calculating design unit conversion.\n */ function setMockupImageBlock(engine, mockupImageBlock, mockup, color, pageBlock) {\n    if (!mockup) {\n        throw new Error('Mockup configuration is undefined');\n    }\n    var _mockup_images;\n    const imageSource = (_mockup_images = mockup.images) !== null && _mockup_images !== void 0 ? _mockup_images : [];\n    if (imageSource.length === 0) {\n        return;\n    }\n    // Update the image URIs by replacing them with the selected color ID.\n    const updatedImageSource = imageSource.map((image)=>{\n        return {\n            ...image,\n            uri: image.uri.replace('{{color}}', color.id)\n        };\n    });\n    const fill = engine.block.getFill(mockupImageBlock);\n    // Sets the image source for the mockup image block as source set.\n    engine.block.setSourceSet(fill, 'fill/image/sourceSet', updatedImageSource);\n    // Disables selection of the mockup image block in the editor.\n    engine.block.setScopeEnabled(mockupImageBlock, 'editor/select', false);\n    const firstImageSource = imageSource[0];\n    const imageHeight = firstImageSource.height;\n    const imageWidth = firstImageSource.width;\n    const xPx = mockup.printableAreaPx.x;\n    const yPx = mockup.printableAreaPx.y;\n    const widthPx = mockup.printableAreaPx.width;\n    const pageWidth = engine.block.getWidth(pageBlock);\n    const pxToDesignUnit = pageWidth / widthPx; // px / design unit\n    const xDesignUnit = xPx * pxToDesignUnit;\n    const yDesignUnit = yPx * pxToDesignUnit;\n    const widthDesignUnit = imageWidth * pxToDesignUnit;\n    const heightDesignUnit = imageHeight * pxToDesignUnit;\n    // Position the image block in the scene\n    engine.block.setWidth(mockupImageBlock, widthDesignUnit);\n    engine.block.setHeight(mockupImageBlock, heightDesignUnit);\n    engine.block.setPositionX(mockupImageBlock, -xDesignUnit);\n    engine.block.setPositionY(mockupImageBlock, -yDesignUnit);\n    // Reset any cropping applied to the mockup image block.\n    engine.block.resetCrop(mockupImageBlock);\n}\n/**\n * Creates a new image block for the mockup.\n * @param engine - The CreativeEngine instance.\n * @returns The ID of the created mockup image block.\n */ function createMockupImageBlock(engine) {\n    const sceneBlock = engine.scene.get();\n    const mockupImageBlock = engine.block.create('graphic');\n    engine.block.setKind(mockupImageBlock, MOCKUP_IMAGE_BLOCK_KIND);\n    const shape = engine.block.createShape('rect');\n    engine.block.setShape(mockupImageBlock, shape);\n    const fill = engine.block.createFill('image');\n    engine.block.setFill(mockupImageBlock, fill);\n    // Inserts the mockup image block as the first child of the scene, ensuring it's behind other elements.\n    engine.block.insertChild(sceneBlock, mockupImageBlock, 0);\n    return mockupImageBlock;\n}\n/**\n * Creates a new mask image block for a page to indicate non-printable areas.\n * The mask is sized and positioned to match the mockup image dimensions.\n * @param engine - The CreativeEngine instance.\n * @param pageBlock - The ID of the page block to add the mask to.\n * @param maskImageUrl - The URL of the mask image (PNG with transparency).\n * @param mockup - The mockup configuration to determine mask sizing.\n * @param areaId - The area ID for naming the mask block.\n * @param maskType - Type of mask ('editing' or 'exporting').\n * @returns The ID of the created mask image block.\n */ async function createMaskImageBlock(engine, pageBlock, maskImageUrl, mockup, areaId, maskType) {\n    // Get page dimensions and mockup configuration\n    const pageWidth = engine.block.getWidth(pageBlock);\n    var _mockup_images;\n    const imageSource = (_mockup_images = mockup.images) !== null && _mockup_images !== void 0 ? _mockup_images : [];\n    if (imageSource.length === 0) {\n        throw new Error('Mockup configuration must include images');\n    }\n    const firstImageSource = imageSource[0];\n    const imageHeight = firstImageSource.height;\n    const imageWidth = firstImageSource.width;\n    const xPx = mockup.printableAreaPx.x;\n    const yPx = mockup.printableAreaPx.y;\n    const widthPx = mockup.printableAreaPx.width;\n    const pxToDesignUnit = pageWidth / widthPx; // Scale factor (same as mockup)\n    // Calculate mask dimensions in design units (same as mockup)\n    const maskWidthDesignUnit = imageWidth * pxToDesignUnit;\n    const maskHeightDesignUnit = imageHeight * pxToDesignUnit;\n    const xDesignUnit = xPx * pxToDesignUnit;\n    const yDesignUnit = yPx * pxToDesignUnit;\n    // Create graphic block for mask\n    const maskImageBlock = engine.block.create('graphic');\n    engine.block.setKind(maskImageBlock, MASK_IMAGE_BLOCK_KIND);\n    engine.block.setName(maskImageBlock, \"Mask-\".concat(maskType, \"-\").concat(areaId));\n    // Create shape and fill\n    const shape = engine.block.createShape('rect');\n    engine.block.setShape(maskImageBlock, shape);\n    const fill = engine.block.createFill('image');\n    engine.block.setString(fill, 'fill/image/imageFileURI', maskImageUrl);\n    engine.block.setFill(maskImageBlock, fill);\n    // Set dimensions to match mockup in design units\n    engine.block.setWidth(maskImageBlock, maskWidthDesignUnit);\n    engine.block.setHeight(maskImageBlock, maskHeightDesignUnit);\n    // Position mask to align with mockup\n    // The mockup is positioned at (-xDesignUnit, -yDesignUnit) relative to the scene\n    // to align its printable area with the page. Since the mask is a child of the page\n    // and should overlay the mockup exactly, use the same offset.\n    engine.block.setPositionX(maskImageBlock, -xDesignUnit);\n    engine.block.setPositionY(maskImageBlock, -yDesignUnit);\n    // Append as last child of page (topmost layer)\n    engine.block.appendChild(pageBlock, maskImageBlock);\n    // Make non-selectable, non-editable, and always visible\n    engine.block.setScopeEnabled(maskImageBlock, 'editor/select', false);\n    engine.editor.setSelectionEnabled(maskImageBlock, false);\n    engine.block.setAlwaysOnTop(maskImageBlock, true);\n    engine.block.setVisible(maskImageBlock, true);\n    return maskImageBlock;\n}\n/**\n * Updates mask image blocks for product areas.\n * Replaces all existing masks with new ones based on the mask type (editing/exporting).\n * Only creates masks for areas that have the corresponding mask URL configured.\n */ async function updateMaskBlocksForProduct(engine, product) {\n    let maskType = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 'editing';\n    // Clear all existing masks\n    engine.block.findByKind(MASK_IMAGE_BLOCK_KIND).forEach((mask)=>engine.block.destroy(mask));\n    // Create masks for areas that have them configured\n    for (const area of product.areas.filter((a)=>!a.disabled)){\n        var _area_mockup, _area_mockup1;\n        const maskUrl = maskType === 'editing' ? (_area_mockup = area.mockup) === null || _area_mockup === void 0 ? void 0 : _area_mockup.editingMaskUrl : (_area_mockup1 = area.mockup) === null || _area_mockup1 === void 0 ? void 0 : _area_mockup1.exportingMaskUrl;\n        if (!maskUrl || !area.mockup) continue;\n        const [pageBlock] = engine.block.findByName(area.id);\n        if (!pageBlock) continue;\n        await createMaskImageBlock(engine, pageBlock, maskUrl, area.mockup, area.id, maskType);\n    }\n}\n/**\n * Creates all mockup image blocks for the product areas and colors.\n * @param engine - The CreativeEngine instance.\n * @param product - The product configuration.\n * @returns\n */ async function createAllMockupImageBlocks(engine, product) {\n    const mockupImageBlocks = [];\n    const areas = product.areas.filter((a)=>!a.disabled);\n    for (const { id, mockup } of areas){\n        // Find the page block for this area\n        const pageBlocks = engine.block.findByName(id);\n        if (pageBlocks.length === 0) {\n            throw new Error(\"No page block found for area: \".concat(id));\n        }\n        const pageBlock = pageBlocks[0];\n        for (const color of product.colors){\n            const mockupImageBlock = createMockupImageBlock(engine);\n            engine.block.setName(mockupImageBlock, \"Mockup-\".concat(id, \"-\").concat(color.id));\n            setMockupImageBlock(engine, mockupImageBlock, mockup, color, pageBlock);\n            engine.block.setVisible(mockupImageBlock, false);\n            mockupImageBlocks.push(mockupImageBlock);\n        }\n    }\n    return mockupImageBlocks;\n}\nconst PRODUCT_METADATA_KEY = 'product_metadata';\nconst CURRENT_PRODUCT_ID_KEY = 'current_product_id';\n/**\n * Gets the current product ID from scene metadata.\n * @param engine - The CreativeEngine instance.\n * @param sceneBlock - The ID of the scene block.\n * @returns The current product ID or null if not set.\n */ function getCurrentProductId(engine, sceneBlock) {\n    try {\n        return engine.block.getMetadata(sceneBlock, CURRENT_PRODUCT_ID_KEY);\n    } catch (e) {\n        return null;\n    }\n}\n/**\n * Sets the current product ID in scene metadata.\n * @param engine - The CreativeEngine instance.\n * @param sceneBlock - The ID of the scene block.\n * @param productId - The product ID to store.\n */ function setCurrentProductId(engine, sceneBlock, productId) {\n    engine.block.setMetadata(sceneBlock, CURRENT_PRODUCT_ID_KEY, productId);\n}\n/**\n * Updates mockup blocks for a product, only recreating if product has changed.\n * This avoids expensive mockup recreation when just switching colors or areas.\n * @param engine - The CreativeEngine instance.\n * @param product - The product configuration.\n * @param sceneBlock - The scene block ID.\n */ async function updateMockupBlocksForProduct(engine, product, sceneBlock) {\n    const currentProductId = getCurrentProductId(engine, sceneBlock);\n    if (currentProductId !== product.id) {\n        // Different product: destroy old mockups and create new ones\n        const existingMockups = engine.block.findByKind(MOCKUP_IMAGE_BLOCK_KIND);\n        existingMockups.forEach((block)=>engine.block.destroy(block));\n        await createAllMockupImageBlocks(engine, product);\n        setCurrentProductId(engine, sceneBlock, product.id);\n    }\n// Same product: reuse existing mockups (no action needed)\n}\n/**\n * Stores the product configuration as metadata in the scene, which can be accessed later if needed.\n * @param engine - The CreativeEngine instance.\n * @param sceneBlock - The ID of the scene block.\n * @param product - The product configuration to store.\n */ function setProductData(engine, sceneBlock, product) {\n    const productDataJSON = JSON.stringify(product);\n    engine.block.setMetadata(sceneBlock, PRODUCT_METADATA_KEY, productDataJSON);\n}\n/**\n * Retrieves the product configuration from the scene's metadata.\n * @param engine - The CreativeEngine instance.\n * @param sceneBlock - The ID of the scene block.\n * @returns The product configuration, or null if not found or if parsing fails.\n */ function getProductData(engine, sceneBlock) {\n    const hasMetaData = engine.block.hasMetadata(sceneBlock, PRODUCT_METADATA_KEY);\n    if (!hasMetaData) {\n        return null;\n    }\n    const productDataJSON = engine.block.getMetadata(sceneBlock, PRODUCT_METADATA_KEY);\n    if (!productDataJSON) {\n        return null;\n    }\n    try {\n        const productData = JSON.parse(productDataJSON);\n        return productData;\n    } catch (error) {\n        console.error('Failed to parse product data JSON', error);\n    }\n    return null;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2Nhc2UvUHJvZHVjdEVkaXRvclVJQ29uZmlnLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBc0RBLE1BQU1BLHdCQUF3QjtJQUM1QkMsT0FBTztJQUNQQyxRQUFRO0FBQ1Y7QUFDQSxNQUFNQyxvQkFBb0I7SUFDeEJDLEdBQUc7SUFDSEMsR0FBRztJQUNIQyxHQUFHO0lBQ0hDLEdBQUc7QUFDTDtBQUNBLE1BQU1DLDBCQUEwQjtBQUNoQyxNQUFNQyxlQUFlO0lBQ25CQyxNQUFNO0lBQ05DLEtBQUs7SUFDTEMsT0FBTztJQUNQQyxRQUFRO0FBQ1Y7QUFFQTs7Ozs7Q0FLQyxHQUNNLGVBQWVDLGNBQ3BCQyxRQUEyQixFQUMzQkMsT0FBc0I7SUFFdEIsTUFBTUMsU0FBU0YsU0FBU0UsTUFBTTtJQUM5QixNQUFNQyxVQUFVLE1BQU1ELE9BQU9FLEtBQUssQ0FBQ0MsYUFBYTtJQUNoRCxNQUFNQyxRQUFRSixPQUFPSyxLQUFLLENBQUNDLFVBQVUsQ0FBQztJQUN0QyxNQUFNQyxPQUFtQyxDQUFDO0lBQzFDLE1BQU1DLGFBQXlDLENBQUM7SUFFaEQsc0ZBQXNGO0lBQ3RGLE1BQU1DLDJCQUEyQlQsUUFBUUQsU0FBUztJQUVsRCxLQUFLLE1BQU1XLFFBQVFOLE1BQU87UUFDeEIsTUFBTU8sU0FBU1gsT0FBT0ssS0FBSyxDQUFDTyxPQUFPLENBQUNGO1FBQ3BDVixPQUFPSyxLQUFLLENBQUNRLGdCQUFnQixDQUFDSCxNQUFNO1FBRXBDSCxJQUFJLENBQUNJLE9BQU8sR0FBRyxNQUFNWCxPQUFPSyxLQUFLLENBQUNTLE1BQU0sQ0FBQ0osTUFBTTtZQUM3Q0ssVUFBVTtRQUNaO1FBQ0FQLFVBQVUsQ0FBQ0csT0FBTyxHQUFHLE1BQU1YLE9BQU9LLEtBQUssQ0FBQ1MsTUFBTSxDQUFDSixNQUFNO1lBQ25ESyxVQUFVO1lBQ1ZDLGFBQWFqQyxzQkFBc0JDLEtBQUs7WUFDeENpQyxjQUFjbEMsc0JBQXNCRSxNQUFN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LENBQUNQO1FBQy9CLE9BQU9NO0lBQ1QsRUFBRSxPQUFPRSxPQUFPO1FBQ2R2SCxRQUFRdUgsS0FBSyxDQUFDLHFDQUFxQ0E7SUFDckQ7SUFFQSxPQUFPO0FBQ1QiLCJzb3VyY2VzIjpbIi9ob21lL2thdWEvRG9jdW1lbnRvcy9pbWdseS1leGFtcGxlcy9zcmMvY29tcG9uZW50cy9jYXNlL1Byb2R1Y3RFZGl0b3JVSUNvbmZpZy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ3JlYXRpdmVFZGl0b3JTREssIHtcbiAgQ3JlYXRpdmVFbmdpbmUsXG4gIERlc2lnblVuaXQsXG4gIFNvdXJjZVxufSBmcm9tICdAY2VzZGsvY2VzZGstanMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFByb2R1Y3RDb25maWcge1xuICBpZDogc3RyaW5nO1xuICBsYWJlbDogc3RyaW5nO1xuICBkZXNpZ25Vbml0OiBEZXNpZ25Vbml0OyAvLyBEZWZpbmVzIHRoZSB1bml0IG9mIG1lYXN1cmVtZW50IGZvciB0aGUgZGVzaWduIChlLmcuLCBwaXhlbHMsIG1pbGxpbWV0ZXJzKVxuICB1bml0UHJpY2U6IG51bWJlcjtcbiAgYXJlYXM6IFByb2R1Y3RBcmVhQ29uZmlnW107XG4gIGNvbG9yczogUHJvZHVjdENvbG9yW107XG4gIHNpemVzOiBQcm9kdWN0U2l6ZVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFByb2R1Y3RBcmVhQ29uZmlnIHtcbiAgaWQ6IHN0cmluZztcbiAgbGFiZWw6IHN0cmluZztcbiAgcGFnZVNpemU6IHtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICB9O1xuICAvLyBPcHRpb25hbCBwcm9wZXJ0eSBmb3IgdmlzaWJsZSBidXQgZGlzYWJsZWQgb3B0aW9uc1xuICBkaXNhYmxlZD86IGJvb2xlYW47XG4gIG1vY2t1cD86IFByb2R1Y3RBcmVhTW9ja3VwQ29uZmlnOyAvLyBPcHRpb25hbCBjb25maWd1cmF0aW9uIGZvciB0aGUgbW9ja3VwIGltYWdlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGFyZWFcbn1cblxuaW50ZXJmYWNlIFByb2R1Y3RBcmVhTW9ja3VwQ29uZmlnIHtcbiAgaW1hZ2VzPzogU291cmNlW107IC8vIFNvdXJjZSBzZXQgVVJMcyBmb3IgdGhlIG1vY2t1cCBpbWFnZVxuICBwcmludGFibGVBcmVhUHg6IHtcbiAgICAvLyBDb29yZGluYXRlcyBhbmQgZGltZW5zaW9ucyBvZiB0aGUgcHJpbnRhYmxlIGFyZWEgd2l0aGluIHRoZSBtb2NrdXAgaW1hZ2UgaW4gcGl4ZWxzXG4gICAgeDogbnVtYmVyO1xuICAgIHk6IG51bWJlcjtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICB9O1xuICBlZGl0aW5nTWFza1VybD86IHN0cmluZzsgLy8gT3B0aW9uYWwgUE5HIG1hc2sgc2hvd24gZHVyaW5nIGVkaXRpbmcgKGUuZy4sIGdyYXkgb3ZlcmxheSBmb3IgdmlzdWFsIGNsYXJpdHkpXG4gIGV4cG9ydGluZ01hc2tVcmw/OiBzdHJpbmc7IC8vIE9wdGlvbmFsIFBORyBtYXNrIHNob3duIGR1cmluZyBleHBvcnQgKGUuZy4sIHdoaXRlIG92ZXJsYXkpXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvZHVjdENvbG9yIHtcbiAgaWQ6IHN0cmluZztcbiAgbGFiZWw/OiBzdHJpbmc7XG4gIGNvbG9ySGV4OiBzdHJpbmc7XG4gIGlzRGVmYXVsdD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvZHVjdFNpemUge1xuICBpZDogc3RyaW5nO1xuICBsYWJlbD86IHN0cmluZztcbiAgdmFsdWU/OiBzdHJpbmc7XG59XG5cbmNvbnN0IEVYUE9SVF9USFVNQk5BSUxfU0laRSA9IHtcbiAgd2lkdGg6IDIwMCxcbiAgaGVpZ2h0OiAyMDBcbn07XG5jb25zdCBQQUdFX1NUUk9LRV9DT0xPUiA9IHtcbiAgcjogMCxcbiAgZzogMCxcbiAgYjogMCxcbiAgYTogMVxufTtcbmNvbnN0IFBBR0VfU1RST0tFX1dJRFRIX1JBVElPID0gMC4wMDU7XG5jb25zdCBaT09NX1BBRERJTkcgPSB7XG4gIGxlZnQ6IDQwLFxuICB0b3A6IDgwLFxuICByaWdodDogNDAsXG4gIGJvdHRvbTogMTAwXG59O1xuXG4vKipcbiAqIEV4cG9ydHMgdGhlIGRlc2lnbiwgaW5jbHVkaW5nIGFuIGFyY2hpdmUgZm9yIHJlc3VtaW5nIHdvcmssIFBERnMgZm9yIHByaW50aW5nLCBhbmQgdGh1bWJuYWlscyBmb3IgVUkgcHJldmlld3MuXG4gKiBAcGFyYW0gaW5zdGFuY2UgLSBUaGUgQ3JlYXRpdmVFZGl0b3JTREsgaW5zdGFuY2UuXG4gKiBAcGFyYW0gcHJvZHVjdCAtIFRoZSBwcm9kdWN0IGNvbmZpZ3VyYXRpb24uXG4gKiBAcmV0dXJucyBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgYXJjaGl2ZSwgUERGcywgYW5kIHRodW1ibmFpbHMuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleHBvcnREZXNpZ25zKFxuICBpbnN0YW5jZTogQ3JlYXRpdmVFZGl0b3JTREssXG4gIHByb2R1Y3Q6IFByb2R1Y3RDb25maWdcbikge1xuICBjb25zdCBlbmdpbmUgPSBpbnN0YW5jZS5lbmdpbmU7XG4gIGNvbnN0IGFyY2hpdmUgPSBhd2FpdCBlbmdpbmUuc2NlbmUuc2F2ZVRvQXJjaGl2ZSgpO1xuICBjb25zdCBwYWdlcyA9IGVuZ2luZS5ibG9jay5maW5kQnlUeXBlKCdwYWdlJyk7XG4gIGNvbnN0IHBkZnM6IHsgW2FyZWFJZDogc3RyaW5nXTogQmxvYiB9ID0ge307XG4gIGNvbnN0IHRodW1ibmFpbHM6IHsgW2FyZWFJZDogc3RyaW5nXTogQmxvYiB9ID0ge307XG5cbiAgLy8gRXhwb3J0IFBERnMgYW5kIHRodW1ibmFpbHMgd2l0aCBleHBvcnRpbmcgbWFza3MgKGNsZWFuIGV4cG9ydCB3aXRob3V0IHNpZ24gaG9sZGVycylcbiAgYXdhaXQgdXBkYXRlTWFza0Jsb2Nrc0ZvclByb2R1Y3QoZW5naW5lLCBwcm9kdWN0LCAnZXhwb3J0aW5nJyk7XG5cbiAgZm9yIChjb25zdCBwYWdlIG9mIHBhZ2VzKSB7XG4gICAgY29uc3QgYXJlYUlkID0gZW5naW5lLmJsb2NrLmdldE5hbWUocGFnZSk7XG4gICAgZW5naW5lLmJsb2NrLnNldFN0cm9rZUVuYWJsZWQocGFnZSwgZmFsc2UpO1xuXG4gICAgcGRmc1thcmVhSWRdID0gYXdhaXQgZW5naW5lLmJsb2NrLmV4cG9ydChwYWdlLCB7XG4gICAgICBtaW1lVHlwZTogJ2FwcGxpY2F0aW9uL3BkZidcbiAgICB9KTtcbiAgICB0aHVtYm5haWxzW2FyZWFJZF0gPSBhd2FpdCBlbmdpbmUuYmxvY2suZXhwb3J0KHBhZ2UsIHtcbiAgICAgIG1pbWVUeXBlOiAnaW1hZ2UvcG5nJyxcbiAgICAgIHRhcmdldFdpZHRoOiBFWFBPUlRfVEhVTUJOQUlMX1NJWkUud2lkdGgsXG4gICAgICB0YXJnZXRIZWlnaHQ6IEVYUE9SVF9USFVNQk5BSUxfU0laRS5oZWlnaHRcbiAgICB9KTtcblxuICAgIGVuZ2luZS5ibG9jay5zZXRTdHJva2VFbmFibGVkKHBhZ2UsIHRydWUpO1xuICB9XG5cbiAgLy8gUmVzdG9yZSBlZGl0aW5nIG1hc2tzIGFmdGVyIGV4cG9ydFxuICBhd2FpdCB1cGRhdGVNYXNrQmxvY2tzRm9yUHJvZHVjdChlbmdpbmUsIHByb2R1Y3QsICdlZGl0aW5nJyk7XG5cbiAgcmV0dXJuIHtcbiAgICBhcmNoaXZlLFxuICAgIHBkZnMsXG4gICAgdGh1bWJuYWlsc1xuICB9O1xufVxuXG4vKipcbiAqIFN3aXRjaGVzIHRoZSBlZGl0b3IgdmlldyB0byBhIHNwZWNpZmljIHByb2R1Y3QgYXJlYSAocGFnZSkgYW5kIHVwZGF0ZXMgdGhlIG1vY2t1cCBpbWFnZS5cbiAqIEBwYXJhbSBpbnN0YW5jZSAtIFRoZSBDcmVhdGl2ZUVkaXRvclNESyBpbnN0YW5jZS5cbiAqIEBwYXJhbSBhcmVhSWQgLSBUaGUgSUQgb2YgdGhlIHByb2R1Y3QgYXJlYSB0byBzd2l0Y2ggdG8uXG4gKiBAcGFyYW0gY29sb3IgLSBUaGUgc2VsZWN0ZWQgcHJvZHVjdCBjb2xvci5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN3aXRjaFByb2R1Y3RWaWV3KFxuICBpbnN0YW5jZTogQ3JlYXRpdmVFZGl0b3JTREssXG4gIGFyZWFJZDogc3RyaW5nLFxuICBjb2xvcjogUHJvZHVjdENvbG9yXG4pIHtcbiAgY29uc3QgZW5naW5lID0gaW5zdGFuY2UuZW5naW5lO1xuICAvLyBEZXNlbGVjdCBhbGxcbiAgaW5zdGFuY2UuZW5naW5lLmJsb2NrLmZpbmRBbGxTZWxlY3RlZCgpLmZvckVhY2goKGJsb2NrKSA9PiB7XG4gICAgaW5zdGFuY2UuZW5naW5lLmJsb2NrLnNldFNlbGVjdGVkKGJsb2NrLCBmYWxzZSk7XG4gIH0pO1xuICAvLyBGaW5kcyB0aGUgcGFnZSBibG9jayBjb3JyZXNwb25kaW5nIHRvIHRoZSBnaXZlbiBhcmVhIElEXG4gIGNvbnN0IHBhZ2UgPSBpbnN0YW5jZS5lbmdpbmUuYmxvY2suZmluZEJ5TmFtZShhcmVhSWQpO1xuXG4gIGlmIChwYWdlLmxlbmd0aCAhPT0gMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgRm91bmQgJHtwYWdlLmxlbmd0aH0gcGFnZXMgd2l0aCB0aGUgbmFtZSAke2FyZWFJZH1gKTtcbiAgfVxuXG4gIGNvbnN0IG1vY2t1cEltYWdlQmxvY2sgPSBlbmdpbmUuYmxvY2suZmluZEJ5TmFtZShcbiAgICBgTW9ja3VwLSR7YXJlYUlkfS0ke2NvbG9yLmlkfWBcbiAgKVswXTtcblxuICBjb25zdCBwYWdlQmxvY2sgPSBwYWdlWzBdO1xuICAvLyBTd2l0Y2hlcyB0aGUgZWRpdG9yIHZpZXcgdG8gdGhlIHNwZWNpZmllZCBwYWdlIGJsb2NrXG4gIGF3YWl0IGluc3RhbmNlLnVuc3RhYmxlX3N3aXRjaFBhZ2UocGFnZUJsb2NrKTtcblxuICBjb25zdCBjdXJyZW50VmlzaWJsZU1vY2t1cEJsb2NrID0gZW5naW5lLmJsb2NrXG4gICAgLmZpbmRCeUtpbmQoTU9DS1VQX0lNQUdFX0JMT0NLX0tJTkQpXG4gICAgLmZpbmQoKGJsb2NrKSA9PiBlbmdpbmUuYmxvY2suaXNWaXNpYmxlKGJsb2NrKSk7XG5cbiAgLy8gSGlkZSBjdXJyZW50bHkgdmlzaWJsZSBtb2NrdXAgKG9ubHkgaWYgaXQncyBhIGRpZmZlcmVudCBibG9jayBhbmQgc3RpbGwgdmFsaWQpXG4gIGlmIChcbiAgICBjdXJyZW50VmlzaWJsZU1vY2t1cEJsb2NrICYmXG4gICAgY3VycmVudFZpc2libGVNb2NrdXBCbG9jayAhPT0gbW9ja3VwSW1hZ2VCbG9ja1xuICApIHtcbiAgICB0cnkge1xuICAgICAgZW5naW5lLmJsb2NrLnNldFZpc2libGUoY3VycmVudFZpc2libGVNb2NrdXBCbG9jaywgZmFsc2UpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgLy8gQmxvY2sgbWF5IGhhdmUgYmVlbiBkZXN0cm95ZWQgZHVyaW5nIHByb2R1Y3Qgc3dpdGNoLCBpZ25vcmVcbiAgICB9XG4gIH1cblxuICAvLyBTaG93IHRoZSBuZXcgbW9ja3VwXG4gIGlmIChtb2NrdXBJbWFnZUJsb2NrKSB7XG4gICAgZW5naW5lLmJsb2NrLnNldFZpc2libGUobW9ja3VwSW1hZ2VCbG9jaywgdHJ1ZSk7XG4gIH1cblxuICAvLyBBbHdheXMgem9vbSB0byBmaXQgdGhlIG1vY2t1cCBpbWFnZSB3aXRoaW4gdGhlIHZpZXdcbiAgLy8gVXNpbmcgem9vbS50b0Jsb2NrIGFjdGlvbiB3aXRoIGF1dG9GaXQgZW5hYmxlcyBhdXRvbWF0aWMgem9vbSBhZGp1c3RtZW50IHdoZW4gdmlld3BvcnQgcmVzaXplc1xuICBhd2FpdCBpbnN0YW5jZS5hY3Rpb25zLnJ1bignem9vbS50b0Jsb2NrJywgbW9ja3VwSW1hZ2VCbG9jaywge1xuICAgIHBhZGRpbmc6IFpPT01fUEFERElORyxcbiAgICBhbmltYXRlOiBmYWxzZSxcbiAgICBhdXRvRml0OiB0cnVlXG4gIH0pO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgb3IgdXBkYXRlcyB0aGUgc2NlbmUgYmFzZWQgb24gdGhlIHByb3ZpZGVkIHByb2R1Y3QgY29uZmlndXJhdGlvbi5cbiAqIEl0IHNldHMgdXAgcGFnZXMgZm9yIGVhY2ggcHJvZHVjdCBhcmVhIGFuZCBjb25maWd1cmVzIHRoZSBkZXNpZ24gdW5pdC5cbiAqIEBwYXJhbSBlbmdpbmUgLSBUaGUgQ3JlYXRpdmVFbmdpbmUgaW5zdGFuY2UuXG4gKiBAcGFyYW0gcHJvZHVjdCAtIFRoZSBwcm9kdWN0IGNvbmZpZ3VyYXRpb24uXG4gKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBzY2VuZSB3YXMgc3VjY2Vzc2Z1bGx5IGNyZWF0ZWQvdXBkYXRlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlT3JVcGRhdGVTY2VuZUJ5UHJvZHVjdChcbiAgZW5naW5lOiBDcmVhdGl2ZUVuZ2luZSxcbiAgcHJvZHVjdDogUHJvZHVjdENvbmZpZ1xuKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIC8vIEd1YXJkOiBFbnN1cmUgc2NlbmUgbW9kdWxlIGlzIGF2YWlsYWJsZVxuICBpZiAoIWVuZ2luZS5zY2VuZSkge1xuICAgIGNvbnNvbGUud2FybignRW5naW5lIHNjZW5lIG1vZHVsZSBub3QgeWV0IGluaXRpYWxpemVkJyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIENoZWNrIGlmIHdlIGhhdmUgYSBzY2VuZSBvciBjcmVhdGUgaXRcbiAgY29uc3Qgc2NlbmUgPSBlbmdpbmUuc2NlbmUuZ2V0KCkgPz8gZW5naW5lLnNjZW5lLmNyZWF0ZSgnRnJlZScpO1xuICAvLyBEaXNhYmxlcyBkaW1taW5nIG9mIG91dC1vZi1wYWdlIGFyZWFzIGluIHRoZSBlZGl0b3JcbiAgZW5naW5lLmVkaXRvci5zZXRTZXR0aW5nQm9vbCgncGFnZS9kaW1PdXRPZlBhZ2VBcmVhcycsIGZhbHNlKTtcblxuICAvLyBTZXRzIHRoZSBkZXNpZ24gdW5pdCBmb3IgdGhlIHNjZW5lXG4gIGNvbnN0IGRlc2lnblVuaXQgPSBwcm9kdWN0LmRlc2lnblVuaXQ7XG4gIGVuZ2luZS5zY2VuZS5zZXREZXNpZ25Vbml0KGRlc2lnblVuaXQpO1xuICAvLyBTYXZlIHRoZSBwcm9kdWN0IGFzIGN1c3RvbSBtZXRhZGF0YSwgc28gd2UgY2FuIGFjY2VzcyBpdCBsYXRlciBpZiBuZWVkZWRcbiAgc2V0UHJvZHVjdERhdGEoZW5naW5lLCBzY2VuZSwgcHJvZHVjdCk7XG5cbiAgLy8gQ3JlYXRlIHBhZ2VzIGZvciBlYWNoIGFyZWFcbiAgY29uc3QgdXNlZFBhZ2VCbG9ja3M6IG51bWJlcltdID0gcHJvZHVjdC5hcmVhc1xuICAgIC5maWx0ZXIoKHsgZGlzYWJsZWQgfSkgPT4gIWRpc2FibGVkKVxuICAgIC5tYXAoKGFyZWEpID0+IHtcbiAgICAgIGNvbnN0IHBhZ2VCbG9ja3MgPSBlbmdpbmUuYmxvY2suZmluZEJ5TmFtZShhcmVhLmlkKTtcbiAgICAgIGxldCBwYWdlQmxvY2s6IG51bWJlcjtcblxuICAgICAgaWYgKHBhZ2VCbG9ja3MubGVuZ3RoID4gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYEZvdW5kIG11bHRpcGxlIHBhZ2UgYmxvY2tzIHdpdGggdGhlIG5hbWUgJHthcmVhLmxhYmVsfWBcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAocGFnZUJsb2Nrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcGFnZUJsb2NrID0gY3JlYXRlUGFnZShlbmdpbmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFnZUJsb2NrID0gcGFnZUJsb2Nrc1swXTtcbiAgICAgIH1cblxuICAgICAgc2V0dXBQYWdlRm9yQXJlYShlbmdpbmUsIHBhZ2VCbG9jaywgYXJlYSk7XG5cbiAgICAgIHJldHVybiBwYWdlQmxvY2s7XG4gICAgfSk7XG4gIC8vIFJlbW92ZSB1bnVzZWQgcGFnZSBibG9ja3NcbiAgY29uc3QgYWxsUGFnZUJsb2NrcyA9IGVuZ2luZS5ibG9jay5maW5kQnlUeXBlKCdwYWdlJyk7XG4gIGFsbFBhZ2VCbG9ja3NcbiAgICAuZmlsdGVyKChwYWdlQmxvY2spID0+ICF1c2VkUGFnZUJsb2Nrcy5pbmNsdWRlcyhwYWdlQmxvY2spKVxuICAgIC5mb3JFYWNoKChwYWdlQmxvY2spID0+IHtcbiAgICAgIGVuZ2luZS5ibG9jay5kZXN0cm95KHBhZ2VCbG9jayk7XG4gICAgfSk7XG4gIC8vIFVwZGF0ZSBtb2NrdXAgYmxvY2tzIG9ubHkgaWYgcHJvZHVjdCBoYXMgY2hhbmdlZFxuICBhd2FpdCB1cGRhdGVNb2NrdXBCbG9ja3NGb3JQcm9kdWN0KGVuZ2luZSwgcHJvZHVjdCwgc2NlbmUpO1xuICAvLyBVcGRhdGUgbWFzayBibG9ja3MgZm9yIGFyZWFzIHdpdGggbWFzayBjb25maWd1cmF0aW9uc1xuICBhd2FpdCB1cGRhdGVNYXNrQmxvY2tzRm9yUHJvZHVjdChlbmdpbmUsIHByb2R1Y3QpO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHBhZ2UgYmxvY2sgaW4gdGhlIHNjZW5lLlxuICogQHBhcmFtIGVuZ2luZSAtIFRoZSBDcmVhdGl2ZUVuZ2luZSBpbnN0YW5jZS5cbiAqIEByZXR1cm5zIFRoZSBJRCBvZiB0aGUgY3JlYXRlZCBwYWdlIGJsb2NrLlxuICovXG5mdW5jdGlvbiBjcmVhdGVQYWdlKGVuZ2luZTogQ3JlYXRpdmVFbmdpbmUpIHtcbiAgY29uc3QgcGFnZUJsb2NrID0gZW5naW5lLmJsb2NrLmNyZWF0ZSgncGFnZScpO1xuICBjb25zdCBzY2VuZUJsb2NrID0gZW5naW5lLnNjZW5lLmdldCgpITtcbiAgZW5naW5lLmJsb2NrLmFwcGVuZENoaWxkKHNjZW5lQmxvY2ssIHBhZ2VCbG9jayk7XG4gIC8vIFNldHMgdGhlIHBhZ2UgYmFja2dyb3VuZCB0byB0cmFuc3BhcmVudFxuICBjb25zdCBmaWxsID0gZW5naW5lLmJsb2NrLmdldEZpbGwocGFnZUJsb2NrKTtcbiAgZW5naW5lLmJsb2NrLnNldEZpbGwocGFnZUJsb2NrLCBmaWxsKTtcbiAgZW5naW5lLmJsb2NrLnNldENvbG9yKGZpbGwsICdmaWxsL2NvbG9yL3ZhbHVlJywgeyByOiAwLCBnOiAwLCBiOiAwLCBhOiAwIH0pO1xuICAvLyBBZGQgYSBwYWdlIHN0cm9rZSB0byBpbmRpY2F0ZSB0aGUgcGFnZSBhcmVhXG4gIGVuZ2luZS5ibG9jay5zZXRTdHJva2VDb2xvcihwYWdlQmxvY2ssIFBBR0VfU1RST0tFX0NPTE9SKTtcbiAgZW5naW5lLmJsb2NrLnNldFN0cm9rZUVuYWJsZWQocGFnZUJsb2NrLCB0cnVlKTtcbiAgZW5naW5lLmJsb2NrLnNldFN0cm9rZVN0eWxlKHBhZ2VCbG9jaywgJ1NvbGlkJyk7XG4gIC8vIERpc2FibGVzIHNlbGVjdGlvbiBvZiB0aGUgcGFnZSBpbiB0aGUgZWRpdG9yLlxuICBlbmdpbmUuYmxvY2suc2V0U2NvcGVFbmFibGVkKHBhZ2VCbG9jaywgJ2VkaXRvci9zZWxlY3QnLCBmYWxzZSk7XG4gIC8vIFNldHMgdGhlIHBhZ2UgYmxvY2sgdG8gYmUgY2xpcHBlZCwgcHJldmVudGluZyBjb250ZW50IGZyb20gb3ZlcmZsb3dpbmcuXG4gIGVuZ2luZS5ibG9jay5zZXRDbGlwcGVkKHBhZ2VCbG9jaywgdHJ1ZSk7XG5cbiAgcmV0dXJuIHBhZ2VCbG9jaztcbn1cblxuLyoqXG4gKiBDb25maWd1cmVzIHRoZSBwYWdlIGJsb2NrIGZvciBhIHNwZWNpZmljIHByb2R1Y3QgYXJlYSwgc2V0dGluZyBpdHMgZGltZW5zaW9ucyBhbmQgbmFtZS5cbiAqIE9ubHkgdXBkYXRlcyBwcm9wZXJ0aWVzIGlmIHRoZXkgaGF2ZSBjaGFuZ2VkIHRvIGF2b2lkIHVubmVjZXNzYXJ5IGVuZ2luZSBvcGVyYXRpb25zLlxuICogVXNlcyByZXNpemVDb250ZW50QXdhcmUgdG8gYXV0b21hdGljYWxseSBzY2FsZSBhbGwgY29udGVudCBwcm9wb3J0aW9uYWxseS5cbiAqIEBwYXJhbSBlbmdpbmUgLSBUaGUgQ3JlYXRpdmVFbmdpbmUgaW5zdGFuY2UuXG4gKiBAcGFyYW0gcGFnZUJsb2NrIC0gVGhlIElEIG9mIHRoZSBwYWdlIGJsb2NrIHRvIGNvbmZpZ3VyZS5cbiAqIEBwYXJhbSBwcm9kdWN0QXJlYSAtIFRoZSBwcm9kdWN0IGFyZWEgY29uZmlndXJhdGlvbi5cbiAqL1xuZnVuY3Rpb24gc2V0dXBQYWdlRm9yQXJlYShcbiAgZW5naW5lOiBDcmVhdGl2ZUVuZ2luZSxcbiAgcGFnZUJsb2NrOiBudW1iZXIsXG4gIHByb2R1Y3RBcmVhOiBQcm9kdWN0QXJlYUNvbmZpZ1xuKSB7XG4gIGNvbnN0IHdpZHRoID0gcHJvZHVjdEFyZWEucGFnZVNpemUud2lkdGg7XG4gIGNvbnN0IGhlaWdodCA9IHByb2R1Y3RBcmVhLnBhZ2VTaXplLmhlaWdodDtcbiAgY29uc3Qgc3Ryb2tlV2lkdGggPSBQQUdFX1NUUk9LRV9XSURUSF9SQVRJTyAqIHdpZHRoO1xuXG4gIC8vIENoZWNrIGlmIHRoaXMgYXJlYSBoYXMgbWFza3MgKGVkaXRpbmcgb3IgZXhwb3J0aW5nIG1hc2sgVVJMcylcbiAgY29uc3QgaGFzTWFza3MgPVxuICAgICEhcHJvZHVjdEFyZWEubW9ja3VwPy5lZGl0aW5nTWFza1VybCB8fFxuICAgICEhcHJvZHVjdEFyZWEubW9ja3VwPy5leHBvcnRpbmdNYXNrVXJsO1xuXG4gIC8vIE9ubHkgdXBkYXRlIGRpbWVuc2lvbnMgaWYgdGhleSd2ZSBjaGFuZ2VkXG4gIGNvbnN0IGN1cnJlbnRXaWR0aCA9IGVuZ2luZS5ibG9jay5nZXRXaWR0aChwYWdlQmxvY2spO1xuICBjb25zdCBjdXJyZW50SGVpZ2h0ID0gZW5naW5lLmJsb2NrLmdldEhlaWdodChwYWdlQmxvY2spO1xuICBpZiAoY3VycmVudFdpZHRoICE9PSB3aWR0aCB8fCBjdXJyZW50SGVpZ2h0ICE9PSBoZWlnaHQpIHtcbiAgICAvLyBBbHdheXMgdXNlIGNvbnRlbnQtYXdhcmUgcmVzaXppbmcgdG8gYXV0b21hdGljYWxseSBzY2FsZSBhbGwgY29udGVudFxuICAgIGVuZ2luZS5ibG9jay5yZXNpemVDb250ZW50QXdhcmUoW3BhZ2VCbG9ja10sIHdpZHRoLCBoZWlnaHQpO1xuICB9XG5cbiAgLy8gT25seSB1cGRhdGUgc3Ryb2tlIHdpZHRoIGlmIGl0J3MgY2hhbmdlZFxuICBjb25zdCBjdXJyZW50U3Ryb2tlV2lkdGggPSBlbmdpbmUuYmxvY2suZ2V0U3Ryb2tlV2lkdGgocGFnZUJsb2NrKTtcbiAgaWYgKGN1cnJlbnRTdHJva2VXaWR0aCAhPT0gc3Ryb2tlV2lkdGgpIHtcbiAgICBlbmdpbmUuYmxvY2suc2V0U3Ryb2tlV2lkdGgocGFnZUJsb2NrLCBzdHJva2VXaWR0aCk7XG4gIH1cblxuICAvLyBEaXNhYmxlIHN0cm9rZSBpZiBtYXNrcyBhcmUgcHJlc2VudCwgb3RoZXJ3aXNlIGVuYWJsZSBpdFxuICBjb25zdCBzaG91bGRFbmFibGVTdHJva2UgPSAhaGFzTWFza3M7XG4gIGVuZ2luZS5ibG9jay5zZXRTdHJva2VFbmFibGVkKHBhZ2VCbG9jaywgc2hvdWxkRW5hYmxlU3Ryb2tlKTtcblxuICAvLyBPbmx5IHVwZGF0ZSBuYW1lIGlmIGl0J3MgY2hhbmdlZFxuICBjb25zdCBjdXJyZW50TmFtZSA9IGVuZ2luZS5ibG9jay5nZXROYW1lKHBhZ2VCbG9jayk7XG4gIGlmIChjdXJyZW50TmFtZSAhPT0gcHJvZHVjdEFyZWEuaWQpIHtcbiAgICBlbmdpbmUuYmxvY2suc2V0TmFtZShwYWdlQmxvY2ssIHByb2R1Y3RBcmVhLmlkKTtcbiAgfVxufVxuXG5jb25zdCBNT0NLVVBfSU1BR0VfQkxPQ0tfS0lORCA9ICdtb2NrdXBfaW1hZ2UnO1xuY29uc3QgTUFTS19JTUFHRV9CTE9DS19LSU5EID0gJ21hc2tfaW1hZ2UnO1xuXG4vKipcbiAqIFNldHMgdXAgdGhlIG1vY2t1cCBpbWFnZSBibG9jayBpbiB0aGUgY3JlYXRpdmUgZW5naW5lIHdpdGggdGhlIHByb3ZpZGVkIGNvbmZpZ3VyYXRpb24uXG4gKiBUaGlzIGluY2x1ZGVzIHNldHRpbmcgdGhlIGltYWdlIHNvdXJjZSwgZGlzYWJsaW5nIHNlbGVjdGlvbiwgYW5kIHBvc2l0aW9uaW5nIHRoZSBpbWFnZSBibG9jayBpbiB0aGUgc2NlbmUuXG4gKlxuICogQHBhcmFtIHtDcmVhdGl2ZUVuZ2luZX0gZW5naW5lIC0gVGhlIGNyZWF0aXZlIGVuZ2luZSBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtb2NrdXBJbWFnZUJsb2NrIC0gVGhlIElEIG9mIHRoZSBtb2NrdXAgaW1hZ2UgYmxvY2suXG4gKiBAcGFyYW0ge1Byb2R1Y3RBcmVhTW9ja3VwQ29uZmlnfSBtb2NrdXAgLSBUaGUgbW9ja3VwIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5pbmcgaW1hZ2Ugc291cmNlIGFuZCBwb3NpdGlvbmluZyBpbmZvcm1hdGlvbi5cbiAqIEBwYXJhbSB7UHJvZHVjdENvbG9yfSBjb2xvciAtIFRoZSBjb2xvciBmb3IgdGhlIG1vY2t1cC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBwYWdlQmxvY2sgLSBUaGUgcGFnZSBibG9jayBJRCBmb3IgY2FsY3VsYXRpbmcgZGVzaWduIHVuaXQgY29udmVyc2lvbi5cbiAqL1xuZnVuY3Rpb24gc2V0TW9ja3VwSW1hZ2VCbG9jayhcbiAgZW5naW5lOiBDcmVhdGl2ZUVuZ2luZSxcbiAgbW9ja3VwSW1hZ2VCbG9jazogbnVtYmVyLFxuICBtb2NrdXA6IFByb2R1Y3RBcmVhTW9ja3VwQ29uZmlnIHwgdW5kZWZpbmVkLFxuICBjb2xvcjogUHJvZHVjdENvbG9yLFxuICBwYWdlQmxvY2s6IG51bWJlclxuKSB7XG4gIGlmICghbW9ja3VwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdNb2NrdXAgY29uZmlndXJhdGlvbiBpcyB1bmRlZmluZWQnKTtcbiAgfVxuICBjb25zdCBpbWFnZVNvdXJjZSA9IG1vY2t1cC5pbWFnZXMgPz8gW107XG4gIGlmIChpbWFnZVNvdXJjZS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBVcGRhdGUgdGhlIGltYWdlIFVSSXMgYnkgcmVwbGFjaW5nIHRoZW0gd2l0aCB0aGUgc2VsZWN0ZWQgY29sb3IgSUQuXG4gIGNvbnN0IHVwZGF0ZWRJbWFnZVNvdXJjZSA9IGltYWdlU291cmNlLm1hcCgoaW1hZ2UpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uaW1hZ2UsXG4gICAgICB1cmk6IGltYWdlLnVyaS5yZXBsYWNlKCd7e2NvbG9yfX0nLCBjb2xvci5pZClcbiAgICB9O1xuICB9KTtcbiAgY29uc3QgZmlsbCA9IGVuZ2luZS5ibG9jay5nZXRGaWxsKG1vY2t1cEltYWdlQmxvY2spITtcbiAgLy8gU2V0cyB0aGUgaW1hZ2Ugc291cmNlIGZvciB0aGUgbW9ja3VwIGltYWdlIGJsb2NrIGFzIHNvdXJjZSBzZXQuXG4gIGVuZ2luZS5ibG9jay5zZXRTb3VyY2VTZXQoZmlsbCwgJ2ZpbGwvaW1hZ2Uvc291cmNlU2V0JywgdXBkYXRlZEltYWdlU291cmNlKTtcblxuICAvLyBEaXNhYmxlcyBzZWxlY3Rpb24gb2YgdGhlIG1vY2t1cCBpbWFnZSBibG9jayBpbiB0aGUgZWRpdG9yLlxuICBlbmdpbmUuYmxvY2suc2V0U2NvcGVFbmFibGVkKG1vY2t1cEltYWdlQmxvY2ssICdlZGl0b3Ivc2VsZWN0JywgZmFsc2UpO1xuXG4gIGNvbnN0IGZpcnN0SW1hZ2VTb3VyY2UgPSBpbWFnZVNvdXJjZVswXTtcbiAgY29uc3QgaW1hZ2VIZWlnaHQgPSBmaXJzdEltYWdlU291cmNlLmhlaWdodDtcbiAgY29uc3QgaW1hZ2VXaWR0aCA9IGZpcnN0SW1hZ2VTb3VyY2Uud2lkdGg7XG4gIGNvbnN0IHhQeCA9IG1vY2t1cC5wcmludGFibGVBcmVhUHgueDtcbiAgY29uc3QgeVB4ID0gbW9ja3VwLnByaW50YWJsZUFyZWFQeC55O1xuICBjb25zdCB3aWR0aFB4ID0gbW9ja3VwLnByaW50YWJsZUFyZWFQeC53aWR0aDtcbiAgY29uc3QgcGFnZVdpZHRoID0gZW5naW5lLmJsb2NrLmdldFdpZHRoKHBhZ2VCbG9jayk7XG4gIGNvbnN0IHB4VG9EZXNpZ25Vbml0ID0gcGFnZVdpZHRoIC8gd2lkdGhQeDsgLy8gcHggLyBkZXNpZ24gdW5pdFxuXG4gIGNvbnN0IHhEZXNpZ25Vbml0ID0geFB4ICogcHhUb0Rlc2lnblVuaXQ7XG4gIGNvbnN0IHlEZXNpZ25Vbml0ID0geVB4ICogcHhUb0Rlc2lnblVuaXQ7XG4gIGNvbnN0IHdpZHRoRGVzaWduVW5pdCA9IGltYWdlV2lkdGggKiBweFRvRGVzaWduVW5pdDtcbiAgY29uc3QgaGVpZ2h0RGVzaWduVW5pdCA9IGltYWdlSGVpZ2h0ICogcHhUb0Rlc2lnblVuaXQ7XG4gIC8vIFBvc2l0aW9uIHRoZSBpbWFnZSBibG9jayBpbiB0aGUgc2NlbmVcbiAgZW5naW5lLmJsb2NrLnNldFdpZHRoKG1vY2t1cEltYWdlQmxvY2ssIHdpZHRoRGVzaWduVW5pdCk7XG4gIGVuZ2luZS5ibG9jay5zZXRIZWlnaHQobW9ja3VwSW1hZ2VCbG9jaywgaGVpZ2h0RGVzaWduVW5pdCk7XG4gIGVuZ2luZS5ibG9jay5zZXRQb3NpdGlvblgobW9ja3VwSW1hZ2VCbG9jaywgLXhEZXNpZ25Vbml0KTtcbiAgZW5naW5lLmJsb2NrLnNldFBvc2l0aW9uWShtb2NrdXBJbWFnZUJsb2NrLCAteURlc2lnblVuaXQpO1xuICAvLyBSZXNldCBhbnkgY3JvcHBpbmcgYXBwbGllZCB0byB0aGUgbW9ja3VwIGltYWdlIGJsb2NrLlxuICBlbmdpbmUuYmxvY2sucmVzZXRDcm9wKG1vY2t1cEltYWdlQmxvY2spO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgaW1hZ2UgYmxvY2sgZm9yIHRoZSBtb2NrdXAuXG4gKiBAcGFyYW0gZW5naW5lIC0gVGhlIENyZWF0aXZlRW5naW5lIGluc3RhbmNlLlxuICogQHJldHVybnMgVGhlIElEIG9mIHRoZSBjcmVhdGVkIG1vY2t1cCBpbWFnZSBibG9jay5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlTW9ja3VwSW1hZ2VCbG9jayhlbmdpbmU6IENyZWF0aXZlRW5naW5lKSB7XG4gIGNvbnN0IHNjZW5lQmxvY2sgPSBlbmdpbmUuc2NlbmUuZ2V0KCkhO1xuICBjb25zdCBtb2NrdXBJbWFnZUJsb2NrID0gZW5naW5lLmJsb2NrLmNyZWF0ZSgnZ3JhcGhpYycpO1xuICBlbmdpbmUuYmxvY2suc2V0S2luZChtb2NrdXBJbWFnZUJsb2NrLCBNT0NLVVBfSU1BR0VfQkxPQ0tfS0lORCk7XG4gIGNvbnN0IHNoYXBlID0gZW5naW5lLmJsb2NrLmNyZWF0ZVNoYXBlKCdyZWN0Jyk7XG4gIGVuZ2luZS5ibG9jay5zZXRTaGFwZShtb2NrdXBJbWFnZUJsb2NrLCBzaGFwZSk7XG4gIGNvbnN0IGZpbGwgPSBlbmdpbmUuYmxvY2suY3JlYXRlRmlsbCgnaW1hZ2UnKTtcbiAgZW5naW5lLmJsb2NrLnNldEZpbGwobW9ja3VwSW1hZ2VCbG9jaywgZmlsbCk7XG4gIC8vIEluc2VydHMgdGhlIG1vY2t1cCBpbWFnZSBibG9jayBhcyB0aGUgZmlyc3QgY2hpbGQgb2YgdGhlIHNjZW5lLCBlbnN1cmluZyBpdCdzIGJlaGluZCBvdGhlciBlbGVtZW50cy5cbiAgZW5naW5lLmJsb2NrLmluc2VydENoaWxkKHNjZW5lQmxvY2ssIG1vY2t1cEltYWdlQmxvY2ssIDApO1xuXG4gIHJldHVybiBtb2NrdXBJbWFnZUJsb2NrO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgbWFzayBpbWFnZSBibG9jayBmb3IgYSBwYWdlIHRvIGluZGljYXRlIG5vbi1wcmludGFibGUgYXJlYXMuXG4gKiBUaGUgbWFzayBpcyBzaXplZCBhbmQgcG9zaXRpb25lZCB0byBtYXRjaCB0aGUgbW9ja3VwIGltYWdlIGRpbWVuc2lvbnMuXG4gKiBAcGFyYW0gZW5naW5lIC0gVGhlIENyZWF0aXZlRW5naW5lIGluc3RhbmNlLlxuICogQHBhcmFtIHBhZ2VCbG9jayAtIFRoZSBJRCBvZiB0aGUgcGFnZSBibG9jayB0byBhZGQgdGhlIG1hc2sgdG8uXG4gKiBAcGFyYW0gbWFza0ltYWdlVXJsIC0gVGhlIFVSTCBvZiB0aGUgbWFzayBpbWFnZSAoUE5HIHdpdGggdHJhbnNwYXJlbmN5KS5cbiAqIEBwYXJhbSBtb2NrdXAgLSBUaGUgbW9ja3VwIGNvbmZpZ3VyYXRpb24gdG8gZGV0ZXJtaW5lIG1hc2sgc2l6aW5nLlxuICogQHBhcmFtIGFyZWFJZCAtIFRoZSBhcmVhIElEIGZvciBuYW1pbmcgdGhlIG1hc2sgYmxvY2suXG4gKiBAcGFyYW0gbWFza1R5cGUgLSBUeXBlIG9mIG1hc2sgKCdlZGl0aW5nJyBvciAnZXhwb3J0aW5nJykuXG4gKiBAcmV0dXJucyBUaGUgSUQgb2YgdGhlIGNyZWF0ZWQgbWFzayBpbWFnZSBibG9jay5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlTWFza0ltYWdlQmxvY2soXG4gIGVuZ2luZTogQ3JlYXRpdmVFbmdpbmUsXG4gIHBhZ2VCbG9jazogbnVtYmVyLFxuICBtYXNrSW1hZ2VVcmw6IHN0cmluZyxcbiAgbW9ja3VwOiBQcm9kdWN0QXJlYU1vY2t1cENvbmZpZyxcbiAgYXJlYUlkOiBzdHJpbmcsXG4gIG1hc2tUeXBlOiAnZWRpdGluZycgfCAnZXhwb3J0aW5nJ1xuKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgLy8gR2V0IHBhZ2UgZGltZW5zaW9ucyBhbmQgbW9ja3VwIGNvbmZpZ3VyYXRpb25cbiAgY29uc3QgcGFnZVdpZHRoID0gZW5naW5lLmJsb2NrLmdldFdpZHRoKHBhZ2VCbG9jayk7XG4gIGNvbnN0IGltYWdlU291cmNlID0gbW9ja3VwLmltYWdlcyA/PyBbXTtcbiAgaWYgKGltYWdlU291cmNlLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignTW9ja3VwIGNvbmZpZ3VyYXRpb24gbXVzdCBpbmNsdWRlIGltYWdlcycpO1xuICB9XG5cbiAgY29uc3QgZmlyc3RJbWFnZVNvdXJjZSA9IGltYWdlU291cmNlWzBdO1xuICBjb25zdCBpbWFnZUhlaWdodCA9IGZpcnN0SW1hZ2VTb3VyY2UuaGVpZ2h0O1xuICBjb25zdCBpbWFnZVdpZHRoID0gZmlyc3RJbWFnZVNvdXJjZS53aWR0aDtcbiAgY29uc3QgeFB4ID0gbW9ja3VwLnByaW50YWJsZUFyZWFQeC54O1xuICBjb25zdCB5UHggPSBtb2NrdXAucHJpbnRhYmxlQXJlYVB4Lnk7XG4gIGNvbnN0IHdpZHRoUHggPSBtb2NrdXAucHJpbnRhYmxlQXJlYVB4LndpZHRoO1xuICBjb25zdCBweFRvRGVzaWduVW5pdCA9IHBhZ2VXaWR0aCAvIHdpZHRoUHg7IC8vIFNjYWxlIGZhY3RvciAoc2FtZSBhcyBtb2NrdXApXG5cbiAgLy8gQ2FsY3VsYXRlIG1hc2sgZGltZW5zaW9ucyBpbiBkZXNpZ24gdW5pdHMgKHNhbWUgYXMgbW9ja3VwKVxuICBjb25zdCBtYXNrV2lkdGhEZXNpZ25Vbml0ID0gaW1hZ2VXaWR0aCAqIHB4VG9EZXNpZ25Vbml0O1xuICBjb25zdCBtYXNrSGVpZ2h0RGVzaWduVW5pdCA9IGltYWdlSGVpZ2h0ICogcHhUb0Rlc2lnblVuaXQ7XG4gIGNvbnN0IHhEZXNpZ25Vbml0ID0geFB4ICogcHhUb0Rlc2lnblVuaXQ7XG4gIGNvbnN0IHlEZXNpZ25Vbml0ID0geVB4ICogcHhUb0Rlc2lnblVuaXQ7XG5cbiAgLy8gQ3JlYXRlIGdyYXBoaWMgYmxvY2sgZm9yIG1hc2tcbiAgY29uc3QgbWFza0ltYWdlQmxvY2sgPSBlbmdpbmUuYmxvY2suY3JlYXRlKCdncmFwaGljJyk7XG4gIGVuZ2luZS5ibG9jay5zZXRLaW5kKG1hc2tJbWFnZUJsb2NrLCBNQVNLX0lNQUdFX0JMT0NLX0tJTkQpO1xuICBlbmdpbmUuYmxvY2suc2V0TmFtZShtYXNrSW1hZ2VCbG9jaywgYE1hc2stJHttYXNrVHlwZX0tJHthcmVhSWR9YCk7XG5cbiAgLy8gQ3JlYXRlIHNoYXBlIGFuZCBmaWxsXG4gIGNvbnN0IHNoYXBlID0gZW5naW5lLmJsb2NrLmNyZWF0ZVNoYXBlKCdyZWN0Jyk7XG4gIGVuZ2luZS5ibG9jay5zZXRTaGFwZShtYXNrSW1hZ2VCbG9jaywgc2hhcGUpO1xuXG4gIGNvbnN0IGZpbGwgPSBlbmdpbmUuYmxvY2suY3JlYXRlRmlsbCgnaW1hZ2UnKTtcbiAgZW5naW5lLmJsb2NrLnNldFN0cmluZyhmaWxsLCAnZmlsbC9pbWFnZS9pbWFnZUZpbGVVUkknLCBtYXNrSW1hZ2VVcmwpO1xuICBlbmdpbmUuYmxvY2suc2V0RmlsbChtYXNrSW1hZ2VCbG9jaywgZmlsbCk7XG5cbiAgLy8gU2V0IGRpbWVuc2lvbnMgdG8gbWF0Y2ggbW9ja3VwIGluIGRlc2lnbiB1bml0c1xuICBlbmdpbmUuYmxvY2suc2V0V2lkdGgobWFza0ltYWdlQmxvY2ssIG1hc2tXaWR0aERlc2lnblVuaXQpO1xuICBlbmdpbmUuYmxvY2suc2V0SGVpZ2h0KG1hc2tJbWFnZUJsb2NrLCBtYXNrSGVpZ2h0RGVzaWduVW5pdCk7XG5cbiAgLy8gUG9zaXRpb24gbWFzayB0byBhbGlnbiB3aXRoIG1vY2t1cFxuICAvLyBUaGUgbW9ja3VwIGlzIHBvc2l0aW9uZWQgYXQgKC14RGVzaWduVW5pdCwgLXlEZXNpZ25Vbml0KSByZWxhdGl2ZSB0byB0aGUgc2NlbmVcbiAgLy8gdG8gYWxpZ24gaXRzIHByaW50YWJsZSBhcmVhIHdpdGggdGhlIHBhZ2UuIFNpbmNlIHRoZSBtYXNrIGlzIGEgY2hpbGQgb2YgdGhlIHBhZ2VcbiAgLy8gYW5kIHNob3VsZCBvdmVybGF5IHRoZSBtb2NrdXAgZXhhY3RseSwgdXNlIHRoZSBzYW1lIG9mZnNldC5cbiAgZW5naW5lLmJsb2NrLnNldFBvc2l0aW9uWChtYXNrSW1hZ2VCbG9jaywgLXhEZXNpZ25Vbml0KTtcbiAgZW5naW5lLmJsb2NrLnNldFBvc2l0aW9uWShtYXNrSW1hZ2VCbG9jaywgLXlEZXNpZ25Vbml0KTtcblxuICAvLyBBcHBlbmQgYXMgbGFzdCBjaGlsZCBvZiBwYWdlICh0b3Btb3N0IGxheWVyKVxuICBlbmdpbmUuYmxvY2suYXBwZW5kQ2hpbGQocGFnZUJsb2NrLCBtYXNrSW1hZ2VCbG9jayk7XG5cbiAgLy8gTWFrZSBub24tc2VsZWN0YWJsZSwgbm9uLWVkaXRhYmxlLCBhbmQgYWx3YXlzIHZpc2libGVcbiAgZW5naW5lLmJsb2NrLnNldFNjb3BlRW5hYmxlZChtYXNrSW1hZ2VCbG9jaywgJ2VkaXRvci9zZWxlY3QnLCBmYWxzZSk7XG4gIGVuZ2luZS5lZGl0b3Iuc2V0U2VsZWN0aW9uRW5hYmxlZChtYXNrSW1hZ2VCbG9jaywgZmFsc2UpO1xuICBlbmdpbmUuYmxvY2suc2V0QWx3YXlzT25Ub3AobWFza0ltYWdlQmxvY2ssIHRydWUpO1xuICBlbmdpbmUuYmxvY2suc2V0VmlzaWJsZShtYXNrSW1hZ2VCbG9jaywgdHJ1ZSk7XG5cbiAgcmV0dXJuIG1hc2tJbWFnZUJsb2NrO1xufVxuXG4vKipcbiAqIFVwZGF0ZXMgbWFzayBpbWFnZSBibG9ja3MgZm9yIHByb2R1Y3QgYXJlYXMuXG4gKiBSZXBsYWNlcyBhbGwgZXhpc3RpbmcgbWFza3Mgd2l0aCBuZXcgb25lcyBiYXNlZCBvbiB0aGUgbWFzayB0eXBlIChlZGl0aW5nL2V4cG9ydGluZykuXG4gKiBPbmx5IGNyZWF0ZXMgbWFza3MgZm9yIGFyZWFzIHRoYXQgaGF2ZSB0aGUgY29ycmVzcG9uZGluZyBtYXNrIFVSTCBjb25maWd1cmVkLlxuICovXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVNYXNrQmxvY2tzRm9yUHJvZHVjdChcbiAgZW5naW5lOiBDcmVhdGl2ZUVuZ2luZSxcbiAgcHJvZHVjdDogUHJvZHVjdENvbmZpZyxcbiAgbWFza1R5cGU6ICdlZGl0aW5nJyB8ICdleHBvcnRpbmcnID0gJ2VkaXRpbmcnXG4pIHtcbiAgLy8gQ2xlYXIgYWxsIGV4aXN0aW5nIG1hc2tzXG4gIGVuZ2luZS5ibG9ja1xuICAgIC5maW5kQnlLaW5kKE1BU0tfSU1BR0VfQkxPQ0tfS0lORClcbiAgICAuZm9yRWFjaCgobWFzaykgPT4gZW5naW5lLmJsb2NrLmRlc3Ryb3kobWFzaykpO1xuXG4gIC8vIENyZWF0ZSBtYXNrcyBmb3IgYXJlYXMgdGhhdCBoYXZlIHRoZW0gY29uZmlndXJlZFxuICBmb3IgKGNvbnN0IGFyZWEgb2YgcHJvZHVjdC5hcmVhcy5maWx0ZXIoKGEpID0+ICFhLmRpc2FibGVkKSkge1xuICAgIGNvbnN0IG1hc2tVcmwgPVxuICAgICAgbWFza1R5cGUgPT09ICdlZGl0aW5nJ1xuICAgICAgICA/IGFyZWEubW9ja3VwPy5lZGl0aW5nTWFza1VybFxuICAgICAgICA6IGFyZWEubW9ja3VwPy5leHBvcnRpbmdNYXNrVXJsO1xuXG4gICAgaWYgKCFtYXNrVXJsIHx8ICFhcmVhLm1vY2t1cCkgY29udGludWU7XG5cbiAgICBjb25zdCBbcGFnZUJsb2NrXSA9IGVuZ2luZS5ibG9jay5maW5kQnlOYW1lKGFyZWEuaWQpO1xuICAgIGlmICghcGFnZUJsb2NrKSBjb250aW51ZTtcblxuICAgIGF3YWl0IGNyZWF0ZU1hc2tJbWFnZUJsb2NrKFxuICAgICAgZW5naW5lLFxuICAgICAgcGFnZUJsb2NrLFxuICAgICAgbWFza1VybCxcbiAgICAgIGFyZWEubW9ja3VwLFxuICAgICAgYXJlYS5pZCxcbiAgICAgIG1hc2tUeXBlXG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYWxsIG1vY2t1cCBpbWFnZSBibG9ja3MgZm9yIHRoZSBwcm9kdWN0IGFyZWFzIGFuZCBjb2xvcnMuXG4gKiBAcGFyYW0gZW5naW5lIC0gVGhlIENyZWF0aXZlRW5naW5lIGluc3RhbmNlLlxuICogQHBhcmFtIHByb2R1Y3QgLSBUaGUgcHJvZHVjdCBjb25maWd1cmF0aW9uLlxuICogQHJldHVybnNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlQWxsTW9ja3VwSW1hZ2VCbG9ja3MoXG4gIGVuZ2luZTogQ3JlYXRpdmVFbmdpbmUsXG4gIHByb2R1Y3Q6IFByb2R1Y3RDb25maWdcbikge1xuICBjb25zdCBtb2NrdXBJbWFnZUJsb2NrczogbnVtYmVyW10gPSBbXTtcbiAgY29uc3QgYXJlYXMgPSBwcm9kdWN0LmFyZWFzLmZpbHRlcigoYSkgPT4gIWEuZGlzYWJsZWQpO1xuXG4gIGZvciAoY29uc3QgeyBpZCwgbW9ja3VwIH0gb2YgYXJlYXMpIHtcbiAgICAvLyBGaW5kIHRoZSBwYWdlIGJsb2NrIGZvciB0aGlzIGFyZWFcbiAgICBjb25zdCBwYWdlQmxvY2tzID0gZW5naW5lLmJsb2NrLmZpbmRCeU5hbWUoaWQpO1xuICAgIGlmIChwYWdlQmxvY2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBwYWdlIGJsb2NrIGZvdW5kIGZvciBhcmVhOiAke2lkfWApO1xuICAgIH1cbiAgICBjb25zdCBwYWdlQmxvY2sgPSBwYWdlQmxvY2tzWzBdO1xuXG4gICAgZm9yIChjb25zdCBjb2xvciBvZiBwcm9kdWN0LmNvbG9ycykge1xuICAgICAgY29uc3QgbW9ja3VwSW1hZ2VCbG9jayA9IGNyZWF0ZU1vY2t1cEltYWdlQmxvY2soZW5naW5lKTtcbiAgICAgIGVuZ2luZS5ibG9jay5zZXROYW1lKG1vY2t1cEltYWdlQmxvY2ssIGBNb2NrdXAtJHtpZH0tJHtjb2xvci5pZH1gKTtcbiAgICAgIHNldE1vY2t1cEltYWdlQmxvY2soZW5naW5lLCBtb2NrdXBJbWFnZUJsb2NrLCBtb2NrdXAsIGNvbG9yLCBwYWdlQmxvY2spO1xuICAgICAgZW5naW5lLmJsb2NrLnNldFZpc2libGUobW9ja3VwSW1hZ2VCbG9jaywgZmFsc2UpO1xuICAgICAgbW9ja3VwSW1hZ2VCbG9ja3MucHVzaChtb2NrdXBJbWFnZUJsb2NrKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1vY2t1cEltYWdlQmxvY2tzO1xufVxuXG5jb25zdCBQUk9EVUNUX01FVEFEQVRBX0tFWSA9ICdwcm9kdWN0X21ldGFkYXRhJztcbmNvbnN0IENVUlJFTlRfUFJPRFVDVF9JRF9LRVkgPSAnY3VycmVudF9wcm9kdWN0X2lkJztcblxuLyoqXG4gKiBHZXRzIHRoZSBjdXJyZW50IHByb2R1Y3QgSUQgZnJvbSBzY2VuZSBtZXRhZGF0YS5cbiAqIEBwYXJhbSBlbmdpbmUgLSBUaGUgQ3JlYXRpdmVFbmdpbmUgaW5zdGFuY2UuXG4gKiBAcGFyYW0gc2NlbmVCbG9jayAtIFRoZSBJRCBvZiB0aGUgc2NlbmUgYmxvY2suXG4gKiBAcmV0dXJucyBUaGUgY3VycmVudCBwcm9kdWN0IElEIG9yIG51bGwgaWYgbm90IHNldC5cbiAqL1xuZnVuY3Rpb24gZ2V0Q3VycmVudFByb2R1Y3RJZChcbiAgZW5naW5lOiBDcmVhdGl2ZUVuZ2luZSxcbiAgc2NlbmVCbG9jazogbnVtYmVyXG4pOiBzdHJpbmcgfCBudWxsIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZW5naW5lLmJsb2NrLmdldE1ldGFkYXRhKHNjZW5lQmxvY2ssIENVUlJFTlRfUFJPRFVDVF9JRF9LRVkpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIFNldHMgdGhlIGN1cnJlbnQgcHJvZHVjdCBJRCBpbiBzY2VuZSBtZXRhZGF0YS5cbiAqIEBwYXJhbSBlbmdpbmUgLSBUaGUgQ3JlYXRpdmVFbmdpbmUgaW5zdGFuY2UuXG4gKiBAcGFyYW0gc2NlbmVCbG9jayAtIFRoZSBJRCBvZiB0aGUgc2NlbmUgYmxvY2suXG4gKiBAcGFyYW0gcHJvZHVjdElkIC0gVGhlIHByb2R1Y3QgSUQgdG8gc3RvcmUuXG4gKi9cbmZ1bmN0aW9uIHNldEN1cnJlbnRQcm9kdWN0SWQoXG4gIGVuZ2luZTogQ3JlYXRpdmVFbmdpbmUsXG4gIHNjZW5lQmxvY2s6IG51bWJlcixcbiAgcHJvZHVjdElkOiBzdHJpbmdcbikge1xuICBlbmdpbmUuYmxvY2suc2V0TWV0YWRhdGEoc2NlbmVCbG9jaywgQ1VSUkVOVF9QUk9EVUNUX0lEX0tFWSwgcHJvZHVjdElkKTtcbn1cblxuLyoqXG4gKiBVcGRhdGVzIG1vY2t1cCBibG9ja3MgZm9yIGEgcHJvZHVjdCwgb25seSByZWNyZWF0aW5nIGlmIHByb2R1Y3QgaGFzIGNoYW5nZWQuXG4gKiBUaGlzIGF2b2lkcyBleHBlbnNpdmUgbW9ja3VwIHJlY3JlYXRpb24gd2hlbiBqdXN0IHN3aXRjaGluZyBjb2xvcnMgb3IgYXJlYXMuXG4gKiBAcGFyYW0gZW5naW5lIC0gVGhlIENyZWF0aXZlRW5naW5lIGluc3RhbmNlLlxuICogQHBhcmFtIHByb2R1Y3QgLSBUaGUgcHJvZHVjdCBjb25maWd1cmF0aW9uLlxuICogQHBhcmFtIHNjZW5lQmxvY2sgLSBUaGUgc2NlbmUgYmxvY2sgSUQuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU1vY2t1cEJsb2Nrc0ZvclByb2R1Y3QoXG4gIGVuZ2luZTogQ3JlYXRpdmVFbmdpbmUsXG4gIHByb2R1Y3Q6IFByb2R1Y3RDb25maWcsXG4gIHNjZW5lQmxvY2s6IG51bWJlclxuKSB7XG4gIGNvbnN0IGN1cnJlbnRQcm9kdWN0SWQgPSBnZXRDdXJyZW50UHJvZHVjdElkKGVuZ2luZSwgc2NlbmVCbG9jayk7XG5cbiAgaWYgKGN1cnJlbnRQcm9kdWN0SWQgIT09IHByb2R1Y3QuaWQpIHtcbiAgICAvLyBEaWZmZXJlbnQgcHJvZHVjdDogZGVzdHJveSBvbGQgbW9ja3VwcyBhbmQgY3JlYXRlIG5ldyBvbmVzXG4gICAgY29uc3QgZXhpc3RpbmdNb2NrdXBzID0gZW5naW5lLmJsb2NrLmZpbmRCeUtpbmQoTU9DS1VQX0lNQUdFX0JMT0NLX0tJTkQpO1xuICAgIGV4aXN0aW5nTW9ja3Vwcy5mb3JFYWNoKChibG9jaykgPT4gZW5naW5lLmJsb2NrLmRlc3Ryb3koYmxvY2spKTtcbiAgICBhd2FpdCBjcmVhdGVBbGxNb2NrdXBJbWFnZUJsb2NrcyhlbmdpbmUsIHByb2R1Y3QpO1xuICAgIHNldEN1cnJlbnRQcm9kdWN0SWQoZW5naW5lLCBzY2VuZUJsb2NrLCBwcm9kdWN0LmlkKTtcbiAgfVxuICAvLyBTYW1lIHByb2R1Y3Q6IHJldXNlIGV4aXN0aW5nIG1vY2t1cHMgKG5vIGFjdGlvbiBuZWVkZWQpXG59XG5cbi8qKlxuICogU3RvcmVzIHRoZSBwcm9kdWN0IGNvbmZpZ3VyYXRpb24gYXMgbWV0YWRhdGEgaW4gdGhlIHNjZW5lLCB3aGljaCBjYW4gYmUgYWNjZXNzZWQgbGF0ZXIgaWYgbmVlZGVkLlxuICogQHBhcmFtIGVuZ2luZSAtIFRoZSBDcmVhdGl2ZUVuZ2luZSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBzY2VuZUJsb2NrIC0gVGhlIElEIG9mIHRoZSBzY2VuZSBibG9jay5cbiAqIEBwYXJhbSBwcm9kdWN0IC0gVGhlIHByb2R1Y3QgY29uZmlndXJhdGlvbiB0byBzdG9yZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFByb2R1Y3REYXRhKFxuICBlbmdpbmU6IENyZWF0aXZlRW5naW5lLFxuICBzY2VuZUJsb2NrOiBudW1iZXIsXG4gIHByb2R1Y3Q6IFByb2R1Y3RDb25maWdcbikge1xuICBjb25zdCBwcm9kdWN0RGF0YUpTT04gPSBKU09OLnN0cmluZ2lmeShwcm9kdWN0KTtcbiAgZW5naW5lLmJsb2NrLnNldE1ldGFkYXRhKHNjZW5lQmxvY2ssIFBST0RVQ1RfTUVUQURBVEFfS0VZLCBwcm9kdWN0RGF0YUpTT04pO1xufVxuXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgcHJvZHVjdCBjb25maWd1cmF0aW9uIGZyb20gdGhlIHNjZW5lJ3MgbWV0YWRhdGEuXG4gKiBAcGFyYW0gZW5naW5lIC0gVGhlIENyZWF0aXZlRW5naW5lIGluc3RhbmNlLlxuICogQHBhcmFtIHNjZW5lQmxvY2sgLSBUaGUgSUQgb2YgdGhlIHNjZW5lIGJsb2NrLlxuICogQHJldHVybnMgVGhlIHByb2R1Y3QgY29uZmlndXJhdGlvbiwgb3IgbnVsbCBpZiBub3QgZm91bmQgb3IgaWYgcGFyc2luZyBmYWlscy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFByb2R1Y3REYXRhKFxuICBlbmdpbmU6IENyZWF0aXZlRW5naW5lLFxuICBzY2VuZUJsb2NrOiBudW1iZXJcbik6IFByb2R1Y3RDb25maWcgfCBudWxsIHtcbiAgY29uc3QgaGFzTWV0YURhdGEgPSBlbmdpbmUuYmxvY2suaGFzTWV0YWRhdGEoXG4gICAgc2NlbmVCbG9jayxcbiAgICBQUk9EVUNUX01FVEFEQVRBX0tFWVxuICApO1xuXG4gIGlmICghaGFzTWV0YURhdGEpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHByb2R1Y3REYXRhSlNPTiA9IGVuZ2luZS5ibG9jay5nZXRNZXRhZGF0YShcbiAgICBzY2VuZUJsb2NrLFxuICAgIFBST0RVQ1RfTUVUQURBVEFfS0VZXG4gICk7XG5cbiAgaWYgKCFwcm9kdWN0RGF0YUpTT04pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgcHJvZHVjdERhdGEgPSBKU09OLnBhcnNlKHByb2R1Y3REYXRhSlNPTik7XG4gICAgcmV0dXJuIHByb2R1Y3REYXRhO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSBwcm9kdWN0IGRhdGEgSlNPTicsIGVycm9yKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuIl0sIm5hbWVzIjpbIkVYUE9SVF9USFVNQk5BSUxfU0laRSIsIndpZHRoIiwiaGVpZ2h0IiwiUEFHRV9TVFJPS0VfQ09MT1IiLCJyIiwiZyIsImIiLCJhIiwiUEFHRV9TVFJPS0VfV0lEVEhfUkFUSU8iLCJaT09NX1BBRERJTkciLCJsZWZ0IiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJleHBvcnREZXNpZ25zIiwiaW5zdGFuY2UiLCJwcm9kdWN0IiwiZW5naW5lIiwiYXJjaGl2ZSIsInNjZW5lIiwic2F2ZVRvQXJjaGl2ZSIsInBhZ2VzIiwiYmxvY2siLCJmaW5kQnlUeXBlIiwicGRmcyIsInRodW1ibmFpbHMiLCJ1cGRhdGVNYXNrQmxvY2tzRm9yUHJvZHVjdCIsInBhZ2UiLCJhcmVhSWQiLCJnZXROYW1lIiwic2V0U3Ryb2tlRW5hYmxlZCIsImV4cG9ydCIsIm1pbWVUeXBlIiwidGFyZ2V0V2lkdGgiLCJ0YXJnZXRIZWlnaHQiLCJzd2l0Y2hQcm9kdWN0VmlldyIsImNvbG9yIiwiZmluZEFsbFNlbGVjdGVkIiwiZm9yRWFjaCIsInNldFNlbGVjdGVkIiwiZmluZEJ5TmFtZSIsImxlbmd0aCIsIkVycm9yIiwibW9ja3VwSW1hZ2VCbG9jayIsImlkIiwicGFnZUJsb2NrIiwidW5zdGFibGVfc3dpdGNoUGFnZSIsImN1cnJlbnRWaXNpYmxlTW9ja3VwQmxvY2siLCJmaW5kQnlLaW5kIiwiTU9DS1VQX0lNQUdFX0JMT0NLX0tJTkQiLCJmaW5kIiwiaXNWaXNpYmxlIiwic2V0VmlzaWJsZSIsImFjdGlvbnMiLCJydW4iLCJwYWRkaW5nIiwiYW5pbWF0ZSIsImF1dG9GaXQiLCJjcmVhdGVPclVwZGF0ZVNjZW5lQnlQcm9kdWN0IiwiY29uc29sZSIsIndhcm4iLCJnZXQiLCJjcmVhdGUiLCJlZGl0b3IiLCJzZXRTZXR0aW5nQm9vbCIsImRlc2lnblVuaXQiLCJzZXREZXNpZ25Vbml0Iiwic2V0UHJvZHVjdERhdGEiLCJ1c2VkUGFnZUJsb2NrcyIsImFyZWFzIiwiZmlsdGVyIiwiZGlzYWJsZWQiLCJtYXAiLCJhcmVhIiwicGFnZUJsb2NrcyIsImxhYmVsIiwiY3JlYXRlUGFnZSIsInNldHVwUGFnZUZvckFyZWEiLCJhbGxQYWdlQmxvY2tzIiwiaW5jbHVkZXMiLCJkZXN0cm95IiwidXBkYXRlTW9ja3VwQmxvY2tzRm9yUHJvZHVjdCIsInNjZW5lQmxvY2siLCJhcHBlbmRDaGlsZCIsImZpbGwiLCJnZXRGaWxsIiwic2V0RmlsbCIsInNldENvbG9yIiwic2V0U3Ryb2tlQ29sb3IiLCJzZXRTdHJva2VTdHlsZSIsInNldFNjb3BlRW5hYmxlZCIsInNldENsaXBwZWQiLCJwcm9kdWN0QXJlYSIsInBhZ2VTaXplIiwic3Ryb2tlV2lkdGgiLCJoYXNNYXNrcyIsIm1vY2t1cCIsImVkaXRpbmdNYXNrVXJsIiwiZXhwb3J0aW5nTWFza1VybCIsImN1cnJlbnRXaWR0aCIsImdldFdpZHRoIiwiY3VycmVudEhlaWdodCIsImdldEhlaWdodCIsInJlc2l6ZUNvbnRlbnRBd2FyZSIsImN1cnJlbnRTdHJva2VXaWR0aCIsImdldFN0cm9rZVdpZHRoIiwic2V0U3Ryb2tlV2lkdGgiLCJzaG91bGRFbmFibGVTdHJva2UiLCJjdXJyZW50TmFtZSIsInNldE5hbWUiLCJNQVNLX0lNQUdFX0JMT0NLX0tJTkQiLCJzZXRNb2NrdXBJbWFnZUJsb2NrIiwiaW1hZ2VTb3VyY2UiLCJpbWFnZXMiLCJ1cGRhdGVkSW1hZ2VTb3VyY2UiLCJpbWFnZSIsInVyaSIsInJlcGxhY2UiLCJzZXRTb3VyY2VTZXQiLCJmaXJzdEltYWdlU291cmNlIiwiaW1hZ2VIZWlnaHQiLCJpbWFnZVdpZHRoIiwieFB4IiwicHJpbnRhYmxlQXJlYVB4IiwieCIsInlQeCIsInkiLCJ3aWR0aFB4IiwicGFnZVdpZHRoIiwicHhUb0Rlc2lnblVuaXQiLCJ4RGVzaWduVW5pdCIsInlEZXNpZ25Vbml0Iiwid2lkdGhEZXNpZ25Vbml0IiwiaGVpZ2h0RGVzaWduVW5pdCIsInNldFdpZHRoIiwic2V0SGVpZ2h0Iiwic2V0UG9zaXRpb25YIiwic2V0UG9zaXRpb25ZIiwicmVzZXRDcm9wIiwiY3JlYXRlTW9ja3VwSW1hZ2VCbG9jayIsInNldEtpbmQiLCJzaGFwZSIsImNyZWF0ZVNoYXBlIiwic2V0U2hhcGUiLCJjcmVhdGVGaWxsIiwiaW5zZXJ0Q2hpbGQiLCJjcmVhdGVNYXNrSW1hZ2VCbG9jayIsIm1hc2tJbWFnZVVybCIsIm1hc2tUeXBlIiwibWFza1dpZHRoRGVzaWduVW5pdCIsIm1hc2tIZWlnaHREZXNpZ25Vbml0IiwibWFza0ltYWdlQmxvY2siLCJzZXRTdHJpbmciLCJzZXRTZWxlY3Rpb25FbmFibGVkIiwic2V0QWx3YXlzT25Ub3AiLCJtYXNrIiwibWFza1VybCIsImNyZWF0ZUFsbE1vY2t1cEltYWdlQmxvY2tzIiwibW9ja3VwSW1hZ2VCbG9ja3MiLCJjb2xvcnMiLCJwdXNoIiwiUFJPRFVDVF9NRVRBREFUQV9LRVkiLCJDVVJSRU5UX1BST0RVQ1RfSURfS0VZIiwiZ2V0Q3VycmVudFByb2R1Y3RJZCIsImdldE1ldGFkYXRhIiwic2V0Q3VycmVudFByb2R1Y3RJZCIsInByb2R1Y3RJZCIsInNldE1ldGFkYXRhIiwiY3VycmVudFByb2R1Y3RJZCIsImV4aXN0aW5nTW9ja3VwcyIsInByb2R1Y3REYXRhSlNPTiIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRQcm9kdWN0RGF0YSIsImhhc01ldGFEYXRhIiwiaGFzTWV0YWRhdGEiLCJwcm9kdWN0RGF0YSIsInBhcnNlIiwiZXJyb3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/case/ProductEditorUIConfig.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/case/productConfigurator.ts":
/*!****************************************************!*\
  !*** ./src/components/case/productConfigurator.ts ***!
  \****************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   enableProductConfigurator: () => (/* binding */ enableProductConfigurator)\n/* harmony export */ });\nlet isConfiguratorActive = false;\n/**\n * Enables product configurator mode by creating a temporary scene with the mockup image\n * and a visual rectangle overlay representing the printable area.\n *\n * The user can move and resize the rectangle, and the configuration (pageSize and printableAreaPx)\n * is logged to the console after each change.\n *\n * @param instance - The CreativeEditorSDK instance\n * @param product - The current product configuration\n * @param areaId - The current area ID (e.g., 'front', 'back')\n * @param color - The current color\n */ async function enableProductConfigurator(instance, product, areaId, color) {\n    var _area_mockup_images_, _area_mockup_images, _area_mockup_images_1, _area_mockup_images1;\n    if (isConfiguratorActive) {\n        console.warn(' Configurator already active. Call window.__cleanupProductConfigurator() first.');\n        return;\n    }\n    isConfiguratorActive = true;\n    const engine = instance.engine;\n    console.log(' Product Configurator Mode Enabled');\n    console.log(\"Product: \".concat(product.label, \", Area: \").concat(areaId, \", Color: \").concat(color.id));\n    // Get area configuration\n    const area = product.areas.find((a)=>a.id === areaId);\n    if (!area || !area.mockup) {\n        console.error(\"No mockup configuration found for area: \".concat(areaId));\n        isConfiguratorActive = false;\n        return;\n    }\n    // Save current editing scene\n    console.log(' Saving current editing scene...');\n    const savedEditingScene = await engine.scene.saveToString();\n    // Create temporary configurator scene\n    console.log(' Creating configurator scene...');\n    const scene = engine.scene.create('Free');\n    // Use Pixel design unit for 1:1 coordinate mapping\n    engine.scene.setDesignUnit('Pixel');\n    // Hide page title\n    engine.editor.setSetting('page/title/show', false);\n    // Create page for the configurator\n    const page = engine.block.create('page');\n    engine.block.appendChild(scene, page);\n    var _area_mockup_images__width;\n    // Set page size to match mockup image dimensions\n    const imageWidth = (_area_mockup_images__width = (_area_mockup_images = area.mockup.images) === null || _area_mockup_images === void 0 ? void 0 : (_area_mockup_images_ = _area_mockup_images[0]) === null || _area_mockup_images_ === void 0 ? void 0 : _area_mockup_images_.width) !== null && _area_mockup_images__width !== void 0 ? _area_mockup_images__width : 0;\n    var _area_mockup_images__height;\n    const imageHeight = (_area_mockup_images__height = (_area_mockup_images1 = area.mockup.images) === null || _area_mockup_images1 === void 0 ? void 0 : (_area_mockup_images_1 = _area_mockup_images1[0]) === null || _area_mockup_images_1 === void 0 ? void 0 : _area_mockup_images_1.height) !== null && _area_mockup_images__height !== void 0 ? _area_mockup_images__height : 0;\n    engine.block.setWidth(page, imageWidth);\n    engine.block.setHeight(page, imageHeight);\n    // Make page background transparent\n    const pageFill = engine.block.createFill('color');\n    engine.block.setColor(pageFill, 'fill/color/value', {\n        r: 0,\n        g: 0,\n        b: 0,\n        a: 0\n    });\n    engine.block.setFill(page, pageFill);\n    // Disable page selection\n    engine.block.setScopeEnabled(page, 'editor/select', false);\n    // Add mockup image as background\n    const mockupBlock = engine.block.create('graphic');\n    const mockupShape = engine.block.createShape('rect');\n    engine.block.setShape(mockupBlock, mockupShape);\n    // Set image fill\n    const mockupFill = engine.block.createFill('image');\n    const mockupUri = area.mockup.images[0].uri.replace('{{color}}', color.id);\n    engine.block.setString(mockupFill, 'fill/image/imageFileURI', mockupUri);\n    engine.block.setFill(mockupBlock, mockupFill);\n    // Size and position mockup image\n    engine.block.setWidth(mockupBlock, imageWidth);\n    engine.block.setHeight(mockupBlock, imageHeight);\n    engine.block.setPositionX(mockupBlock, 0);\n    engine.block.setPositionY(mockupBlock, 0);\n    // Disable selection and movement of mockup\n    engine.block.setScopeEnabled(mockupBlock, 'editor/select', false);\n    // Add mockup to page as first child (background)\n    engine.block.insertChild(page, mockupBlock, 0);\n    // Create visual rectangle for printable area\n    const rectBlock = engine.block.create('graphic');\n    const rectShape = engine.block.createShape('rect');\n    engine.block.setShape(rectBlock, rectShape);\n    // Position and size based on current printableAreaPx configuration\n    const printableArea = area.mockup.printableAreaPx;\n    engine.block.setPositionX(rectBlock, printableArea.x);\n    engine.block.setPositionY(rectBlock, printableArea.y);\n    engine.block.setWidth(rectBlock, printableArea.width);\n    engine.block.setHeight(rectBlock, printableArea.height);\n    // Visual styling - semi-transparent blue fill with bright stroke\n    const rectFill = engine.block.createFill('color');\n    engine.block.setColor(rectFill, 'fill/color/value', {\n        r: 0,\n        g: 0.5,\n        b: 1,\n        a: 0.2 // 20% opacity\n    });\n    engine.block.setFill(rectBlock, rectFill);\n    // Bright blue border for visibility\n    engine.block.setStrokeEnabled(rectBlock, true);\n    engine.block.setStrokeStyle(rectBlock, 'Solid');\n    engine.block.setStrokeWidth(rectBlock, 3);\n    engine.block.setStrokeColor(rectBlock, {\n        r: 0,\n        g: 0.5,\n        b: 1,\n        a: 1\n    });\n    // Enable selection, move, and resize\n    engine.block.setScopeEnabled(rectBlock, 'editor/select', true);\n    engine.block.setScopeEnabled(rectBlock, 'layer/move', true);\n    engine.block.setScopeEnabled(rectBlock, 'layer/resize', true);\n    // Disable rotation for simpler UX\n    engine.block.setScopeEnabled(rectBlock, 'layer/rotate', false);\n    // Add rectangle to page\n    engine.block.appendChild(page, rectBlock);\n    // Select the rectangle\n    engine.block.setSelected(rectBlock, true);\n    console.log(' Mockup dimensions:', {\n        width: imageWidth,\n        height: imageHeight\n    });\n    console.log(' Product page size:', area.pageSize);\n    // Function to calculate and log configuration\n    const logConfiguration = ()=>{\n        // Get rectangle position and size (in pixels)\n        const x = engine.block.getPositionX(rectBlock);\n        const y = engine.block.getPositionY(rectBlock);\n        const width = engine.block.getWidth(rectBlock);\n        const height = engine.block.getHeight(rectBlock);\n        // Since we're using Pixel design unit, coordinates are direct pixel values\n        const printableAreaPx = {\n            x: Math.round(x * 100) / 100,\n            y: Math.round(y * 100) / 100,\n            width: Math.round(width * 100) / 100,\n            height: Math.round(height * 100) / 100\n        };\n        // Calculate pageSize in the product's design unit\n        // Scale based on how the printable area size changed\n        const widthRatio = width / printableArea.width;\n        const heightRatio = height / printableArea.height;\n        const pageWidth = Math.round(area.pageSize.width * widthRatio * 100) / 100;\n        const pageHeight = Math.round(area.pageSize.height * heightRatio * 100) / 100;\n        console.log('\\n Copy this to product.ts:\\n');\n        console.log('pageSize:', {\n            width: pageWidth,\n            height: pageHeight\n        });\n        console.log('printableAreaPx:', printableAreaPx);\n        console.log('');\n    };\n    // Subscribe to history changes to detect when user stops dragging/resizing\n    const unsubscribe = engine.editor.onHistoryUpdated(()=>{\n        logConfiguration();\n    });\n    // Log initial state\n    console.log(' Move or resize the blue rectangle to adjust the printable area.');\n    console.log(' Configuration will be logged after each change.');\n    logConfiguration();\n    // Cleanup function to restore original scene\n    const cleanup = async ()=>{\n        unsubscribe();\n        console.log(' Restoring editing scene...');\n        await engine.scene.loadFromString(savedEditingScene, true);\n        isConfiguratorActive = false;\n        console.log(' Product Configurator cleaned up, editing scene restored');\n    };\n    // Store cleanup function for manual cleanup\n    window.__cleanupProductConfigurator = cleanup;\n    console.log(' To exit configurator: window.__cleanupProductConfigurator()');\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2Nhc2UvcHJvZHVjdENvbmZpZ3VyYXRvci50cyIsIm1hcHBpbmdzIjoiOzs7O0FBR0EsSUFBSUEsdUJBQXVCO0FBRTNCOzs7Ozs7Ozs7OztDQVdDLEdBQ00sZUFBZUMsMEJBQ3BCQyxRQUEyQixFQUMzQkMsT0FBc0IsRUFDdEJDLE1BQWMsRUFDZEMsS0FBbUI7UUF3Q0FDLHNCQUFBQSxxQkFDQ0EsdUJBQUFBO0lBdkNwQixJQUFJTixzQkFBc0I7UUFDeEJPLFFBQVFDLElBQUksQ0FBQztRQUNiO0lBQ0Y7SUFDQVIsdUJBQXVCO0lBRXZCLE1BQU1TLFNBQVNQLFNBQVNPLE1BQU07SUFFOUJGLFFBQVFHLEdBQUcsQ0FBQztJQUNaSCxRQUFRRyxHQUFHLENBQUMsWUFBb0NOLE9BQXhCRCxRQUFRUSxLQUFLLEVBQUMsWUFBNEJOLE9BQWxCRCxRQUFPLGFBQW9CLE9BQVRDLE1BQU1PLEVBQUU7SUFFMUUseUJBQXlCO0lBQ3pCLE1BQU1OLE9BQU9ILFFBQVFVLEtBQUssQ0FBQ0MsSUFBSSxDQUFDLENBQUNDLElBQU1BLEVBQUVILEVBQUUsS0FBS1I7SUFDaEQsSUFBSSxDQUFDRSxRQUFRLENBQUNBLEtBQUtVLE1BQU0sRUFBRTtRQUN6QlQsUUFBUVUsS0FBSyxDQUFDLDJDQUFrRCxPQUFQYjtRQUN6REosdUJBQXVCO1FBQ3ZCO0lBQ0Y7SUFFQSw2QkFBNkI7SUFDN0JPLFFBQVFHLEdBQUcsQ0FBQztJQUNaLE1BQU1RLG9CQUFvQixNQUFNVCxPQUFPVSxLQUFLLENBQUNDLFlBQVk7SUFFekQsc0NBQXNDO0lBQ3RDYixRQUFRRyxHQUFHLENBQUM7SUFDWixNQUFNUyxRQUFRVixPQUFPVSxLQUFLLENBQUNFLE1BQU0sQ0FBQztJQUVsQyxtREFBbUQ7SUFDbkRaLE9BQU9VLEtBQUssQ0FBQ0csYUFBYSxDQUFDO0lBRTNCLGtCQUFrQjtJQUNsQmIsT0FBT2MsTUFBTSxDQUFDQyxVQUFVLENBQUMsbUJBQW1CO0lB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LFFBQVE4QztRQUNWO1FBQ0F2RSxRQUFRRyxHQUFHLENBQUMsb0JBQW9CZ0Q7UUFDaENuRCxRQUFRRyxHQUFHLENBQUM7SUFDZDtJQUVBLDJFQUEyRTtJQUMzRSxNQUFNcUUsY0FBY3RFLE9BQU9jLE1BQU0sQ0FBQ3lELGdCQUFnQixDQUFDO1FBQ2pEWjtJQUNGO0lBRUEsb0JBQW9CO0lBQ3BCN0QsUUFBUUcsR0FBRyxDQUFDO0lBQ1pILFFBQVFHLEdBQUcsQ0FBQztJQUNaMEQ7SUFFQSw2Q0FBNkM7SUFDN0MsTUFBTWEsVUFBVTtRQUNkRjtRQUNBeEUsUUFBUUcsR0FBRyxDQUFDO1FBQ1osTUFBTUQsT0FBT1UsS0FBSyxDQUFDK0QsY0FBYyxDQUFDaEUsbUJBQW1CO1FBQ3JEbEIsdUJBQXVCO1FBQ3ZCTyxRQUFRRyxHQUFHLENBQUM7SUFDZDtJQUVBLDRDQUE0QztJQUMzQ3lFLE9BQWVDLDRCQUE0QixHQUFHSDtJQUUvQzFFLFFBQVFHLEdBQUcsQ0FBQztBQUNkIiwic291cmNlcyI6WyIvaG9tZS9rYXVhL0RvY3VtZW50b3MvaW1nbHktZXhhbXBsZXMvc3JjL2NvbXBvbmVudHMvY2FzZS9wcm9kdWN0Q29uZmlndXJhdG9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIENyZWF0aXZlRWRpdG9yU0RLIGZyb20gJ0BjZXNkay9jZXNkay1qcyc7XG5pbXBvcnQgdHlwZSB7IFByb2R1Y3RDb25maWcsIFByb2R1Y3RDb2xvciB9IGZyb20gJy4vUHJvZHVjdEVkaXRvclVJQ29uZmlnJztcblxubGV0IGlzQ29uZmlndXJhdG9yQWN0aXZlID0gZmFsc2U7XG5cbi8qKlxuICogRW5hYmxlcyBwcm9kdWN0IGNvbmZpZ3VyYXRvciBtb2RlIGJ5IGNyZWF0aW5nIGEgdGVtcG9yYXJ5IHNjZW5lIHdpdGggdGhlIG1vY2t1cCBpbWFnZVxuICogYW5kIGEgdmlzdWFsIHJlY3RhbmdsZSBvdmVybGF5IHJlcHJlc2VudGluZyB0aGUgcHJpbnRhYmxlIGFyZWEuXG4gKlxuICogVGhlIHVzZXIgY2FuIG1vdmUgYW5kIHJlc2l6ZSB0aGUgcmVjdGFuZ2xlLCBhbmQgdGhlIGNvbmZpZ3VyYXRpb24gKHBhZ2VTaXplIGFuZCBwcmludGFibGVBcmVhUHgpXG4gKiBpcyBsb2dnZWQgdG8gdGhlIGNvbnNvbGUgYWZ0ZXIgZWFjaCBjaGFuZ2UuXG4gKlxuICogQHBhcmFtIGluc3RhbmNlIC0gVGhlIENyZWF0aXZlRWRpdG9yU0RLIGluc3RhbmNlXG4gKiBAcGFyYW0gcHJvZHVjdCAtIFRoZSBjdXJyZW50IHByb2R1Y3QgY29uZmlndXJhdGlvblxuICogQHBhcmFtIGFyZWFJZCAtIFRoZSBjdXJyZW50IGFyZWEgSUQgKGUuZy4sICdmcm9udCcsICdiYWNrJylcbiAqIEBwYXJhbSBjb2xvciAtIFRoZSBjdXJyZW50IGNvbG9yXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbmFibGVQcm9kdWN0Q29uZmlndXJhdG9yKFxuICBpbnN0YW5jZTogQ3JlYXRpdmVFZGl0b3JTREssXG4gIHByb2R1Y3Q6IFByb2R1Y3RDb25maWcsXG4gIGFyZWFJZDogc3RyaW5nLFxuICBjb2xvcjogUHJvZHVjdENvbG9yXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKGlzQ29uZmlndXJhdG9yQWN0aXZlKSB7XG4gICAgY29uc29sZS53YXJuKCfimqDvuI8gQ29uZmlndXJhdG9yIGFscmVhZHkgYWN0aXZlLiBDYWxsIHdpbmRvdy5fX2NsZWFudXBQcm9kdWN0Q29uZmlndXJhdG9yKCkgZmlyc3QuJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlzQ29uZmlndXJhdG9yQWN0aXZlID0gdHJ1ZTtcblxuICBjb25zdCBlbmdpbmUgPSBpbnN0YW5jZS5lbmdpbmU7XG5cbiAgY29uc29sZS5sb2coJ/CfjqggUHJvZHVjdCBDb25maWd1cmF0b3IgTW9kZSBFbmFibGVkJyk7XG4gIGNvbnNvbGUubG9nKGBQcm9kdWN0OiAke3Byb2R1Y3QubGFiZWx9LCBBcmVhOiAke2FyZWFJZH0sIENvbG9yOiAke2NvbG9yLmlkfWApO1xuXG4gIC8vIEdldCBhcmVhIGNvbmZpZ3VyYXRpb25cbiAgY29uc3QgYXJlYSA9IHByb2R1Y3QuYXJlYXMuZmluZCgoYSkgPT4gYS5pZCA9PT0gYXJlYUlkKTtcbiAgaWYgKCFhcmVhIHx8ICFhcmVhLm1vY2t1cCkge1xuICAgIGNvbnNvbGUuZXJyb3IoYE5vIG1vY2t1cCBjb25maWd1cmF0aW9uIGZvdW5kIGZvciBhcmVhOiAke2FyZWFJZH1gKTtcbiAgICBpc0NvbmZpZ3VyYXRvckFjdGl2ZSA9IGZhbHNlO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFNhdmUgY3VycmVudCBlZGl0aW5nIHNjZW5lXG4gIGNvbnNvbGUubG9nKCfwn5K+IFNhdmluZyBjdXJyZW50IGVkaXRpbmcgc2NlbmUuLi4nKTtcbiAgY29uc3Qgc2F2ZWRFZGl0aW5nU2NlbmUgPSBhd2FpdCBlbmdpbmUuc2NlbmUuc2F2ZVRvU3RyaW5nKCk7XG5cbiAgLy8gQ3JlYXRlIHRlbXBvcmFyeSBjb25maWd1cmF0b3Igc2NlbmVcbiAgY29uc29sZS5sb2coJ/CflKggQ3JlYXRpbmcgY29uZmlndXJhdG9yIHNjZW5lLi4uJyk7XG4gIGNvbnN0IHNjZW5lID0gZW5naW5lLnNjZW5lLmNyZWF0ZSgnRnJlZScpO1xuXG4gIC8vIFVzZSBQaXhlbCBkZXNpZ24gdW5pdCBmb3IgMToxIGNvb3JkaW5hdGUgbWFwcGluZ1xuICBlbmdpbmUuc2NlbmUuc2V0RGVzaWduVW5pdCgnUGl4ZWwnKTtcblxuICAvLyBIaWRlIHBhZ2UgdGl0bGVcbiAgZW5naW5lLmVkaXRvci5zZXRTZXR0aW5nKCdwYWdlL3RpdGxlL3Nob3cnLCBmYWxzZSk7XG5cbiAgLy8gQ3JlYXRlIHBhZ2UgZm9yIHRoZSBjb25maWd1cmF0b3JcbiAgY29uc3QgcGFnZSA9IGVuZ2luZS5ibG9jay5jcmVhdGUoJ3BhZ2UnKTtcbiAgZW5naW5lLmJsb2NrLmFwcGVuZENoaWxkKHNjZW5lLCBwYWdlKTtcblxuICAvLyBTZXQgcGFnZSBzaXplIHRvIG1hdGNoIG1vY2t1cCBpbWFnZSBkaW1lbnNpb25zXG4gIGNvbnN0IGltYWdlV2lkdGggPSBhcmVhLm1vY2t1cC5pbWFnZXM/LlswXT8ud2lkdGggPz8gMDtcbiAgY29uc3QgaW1hZ2VIZWlnaHQgPSBhcmVhLm1vY2t1cC5pbWFnZXM/LlswXT8uaGVpZ2h0ID8/IDA7XG5cbiAgZW5naW5lLmJsb2NrLnNldFdpZHRoKHBhZ2UsIGltYWdlV2lkdGgpO1xuICBlbmdpbmUuYmxvY2suc2V0SGVpZ2h0KHBhZ2UsIGltYWdlSGVpZ2h0KTtcblxuICAvLyBNYWtlIHBhZ2UgYmFja2dyb3VuZCB0cmFuc3BhcmVudFxuICBjb25zdCBwYWdlRmlsbCA9IGVuZ2luZS5ibG9jay5jcmVhdGVGaWxsKCdjb2xvcicpO1xuICBlbmdpbmUuYmxvY2suc2V0Q29sb3IocGFnZUZpbGwsICdmaWxsL2NvbG9yL3ZhbHVlJywgeyByOiAwLCBnOiAwLCBiOiAwLCBhOiAwIH0pO1xuICBlbmdpbmUuYmxvY2suc2V0RmlsbChwYWdlLCBwYWdlRmlsbCk7XG5cbiAgLy8gRGlzYWJsZSBwYWdlIHNlbGVjdGlvblxuICBlbmdpbmUuYmxvY2suc2V0U2NvcGVFbmFibGVkKHBhZ2UsICdlZGl0b3Ivc2VsZWN0JywgZmFsc2UpO1xuXG4gIC8vIEFkZCBtb2NrdXAgaW1hZ2UgYXMgYmFja2dyb3VuZFxuICBjb25zdCBtb2NrdXBCbG9jayA9IGVuZ2luZS5ibG9jay5jcmVhdGUoJ2dyYXBoaWMnKTtcbiAgY29uc3QgbW9ja3VwU2hhcGUgPSBlbmdpbmUuYmxvY2suY3JlYXRlU2hhcGUoJ3JlY3QnKTtcbiAgZW5naW5lLmJsb2NrLnNldFNoYXBlKG1vY2t1cEJsb2NrLCBtb2NrdXBTaGFwZSk7XG5cbiAgLy8gU2V0IGltYWdlIGZpbGxcbiAgY29uc3QgbW9ja3VwRmlsbCA9IGVuZ2luZS5ibG9jay5jcmVhdGVGaWxsKCdpbWFnZScpO1xuICBjb25zdCBtb2NrdXBVcmkgPSBhcmVhLm1vY2t1cC5pbWFnZXMhWzBdLnVyaS5yZXBsYWNlKCd7e2NvbG9yfX0nLCBjb2xvci5pZCk7XG4gIGVuZ2luZS5ibG9jay5zZXRTdHJpbmcobW9ja3VwRmlsbCwgJ2ZpbGwvaW1hZ2UvaW1hZ2VGaWxlVVJJJywgbW9ja3VwVXJpKTtcbiAgZW5naW5lLmJsb2NrLnNldEZpbGwobW9ja3VwQmxvY2ssIG1vY2t1cEZpbGwpO1xuXG4gIC8vIFNpemUgYW5kIHBvc2l0aW9uIG1vY2t1cCBpbWFnZVxuICBlbmdpbmUuYmxvY2suc2V0V2lkdGgobW9ja3VwQmxvY2ssIGltYWdlV2lkdGgpO1xuICBlbmdpbmUuYmxvY2suc2V0SGVpZ2h0KG1vY2t1cEJsb2NrLCBpbWFnZUhlaWdodCk7XG4gIGVuZ2luZS5ibG9jay5zZXRQb3NpdGlvblgobW9ja3VwQmxvY2ssIDApO1xuICBlbmdpbmUuYmxvY2suc2V0UG9zaXRpb25ZKG1vY2t1cEJsb2NrLCAwKTtcblxuICAvLyBEaXNhYmxlIHNlbGVjdGlvbiBhbmQgbW92ZW1lbnQgb2YgbW9ja3VwXG4gIGVuZ2luZS5ibG9jay5zZXRTY29wZUVuYWJsZWQobW9ja3VwQmxvY2ssICdlZGl0b3Ivc2VsZWN0JywgZmFsc2UpO1xuXG4gIC8vIEFkZCBtb2NrdXAgdG8gcGFnZSBhcyBmaXJzdCBjaGlsZCAoYmFja2dyb3VuZClcbiAgZW5naW5lLmJsb2NrLmluc2VydENoaWxkKHBhZ2UsIG1vY2t1cEJsb2NrLCAwKTtcblxuICAvLyBDcmVhdGUgdmlzdWFsIHJlY3RhbmdsZSBmb3IgcHJpbnRhYmxlIGFyZWFcbiAgY29uc3QgcmVjdEJsb2NrID0gZW5naW5lLmJsb2NrLmNyZWF0ZSgnZ3JhcGhpYycpO1xuICBjb25zdCByZWN0U2hhcGUgPSBlbmdpbmUuYmxvY2suY3JlYXRlU2hhcGUoJ3JlY3QnKTtcbiAgZW5naW5lLmJsb2NrLnNldFNoYXBlKHJlY3RCbG9jaywgcmVjdFNoYXBlKTtcblxuICAvLyBQb3NpdGlvbiBhbmQgc2l6ZSBiYXNlZCBvbiBjdXJyZW50IHByaW50YWJsZUFyZWFQeCBjb25maWd1cmF0aW9uXG4gIGNvbnN0IHByaW50YWJsZUFyZWEgPSBhcmVhLm1vY2t1cC5wcmludGFibGVBcmVhUHg7XG4gIGVuZ2luZS5ibG9jay5zZXRQb3NpdGlvblgocmVjdEJsb2NrLCBwcmludGFibGVBcmVhLngpO1xuICBlbmdpbmUuYmxvY2suc2V0UG9zaXRpb25ZKHJlY3RCbG9jaywgcHJpbnRhYmxlQXJlYS55KTtcbiAgZW5naW5lLmJsb2NrLnNldFdpZHRoKHJlY3RCbG9jaywgcHJpbnRhYmxlQXJlYS53aWR0aCk7XG4gIGVuZ2luZS5ibG9jay5zZXRIZWlnaHQocmVjdEJsb2NrLCBwcmludGFibGVBcmVhLmhlaWdodCk7XG5cbiAgLy8gVmlzdWFsIHN0eWxpbmcgLSBzZW1pLXRyYW5zcGFyZW50IGJsdWUgZmlsbCB3aXRoIGJyaWdodCBzdHJva2VcbiAgY29uc3QgcmVjdEZpbGwgPSBlbmdpbmUuYmxvY2suY3JlYXRlRmlsbCgnY29sb3InKTtcbiAgZW5naW5lLmJsb2NrLnNldENvbG9yKHJlY3RGaWxsLCAnZmlsbC9jb2xvci92YWx1ZScsIHtcbiAgICByOiAwLFxuICAgIGc6IDAuNSxcbiAgICBiOiAxLFxuICAgIGE6IDAuMiAvLyAyMCUgb3BhY2l0eVxuICB9KTtcbiAgZW5naW5lLmJsb2NrLnNldEZpbGwocmVjdEJsb2NrLCByZWN0RmlsbCk7XG5cbiAgLy8gQnJpZ2h0IGJsdWUgYm9yZGVyIGZvciB2aXNpYmlsaXR5XG4gIGVuZ2luZS5ibG9jay5zZXRTdHJva2VFbmFibGVkKHJlY3RCbG9jaywgdHJ1ZSk7XG4gIGVuZ2luZS5ibG9jay5zZXRTdHJva2VTdHlsZShyZWN0QmxvY2ssICdTb2xpZCcpO1xuICBlbmdpbmUuYmxvY2suc2V0U3Ryb2tlV2lkdGgocmVjdEJsb2NrLCAzKTtcbiAgZW5naW5lLmJsb2NrLnNldFN0cm9rZUNvbG9yKHJlY3RCbG9jaywge1xuICAgIHI6IDAsXG4gICAgZzogMC41LFxuICAgIGI6IDEsXG4gICAgYTogMVxuICB9KTtcblxuICAvLyBFbmFibGUgc2VsZWN0aW9uLCBtb3ZlLCBhbmQgcmVzaXplXG4gIGVuZ2luZS5ibG9jay5zZXRTY29wZUVuYWJsZWQocmVjdEJsb2NrLCAnZWRpdG9yL3NlbGVjdCcsIHRydWUpO1xuICBlbmdpbmUuYmxvY2suc2V0U2NvcGVFbmFibGVkKHJlY3RCbG9jaywgJ2xheWVyL21vdmUnLCB0cnVlKTtcbiAgZW5naW5lLmJsb2NrLnNldFNjb3BlRW5hYmxlZChyZWN0QmxvY2ssICdsYXllci9yZXNpemUnLCB0cnVlKTtcblxuICAvLyBEaXNhYmxlIHJvdGF0aW9uIGZvciBzaW1wbGVyIFVYXG4gIGVuZ2luZS5ibG9jay5zZXRTY29wZUVuYWJsZWQocmVjdEJsb2NrLCAnbGF5ZXIvcm90YXRlJywgZmFsc2UpO1xuXG4gIC8vIEFkZCByZWN0YW5nbGUgdG8gcGFnZVxuICBlbmdpbmUuYmxvY2suYXBwZW5kQ2hpbGQocGFnZSwgcmVjdEJsb2NrKTtcblxuICAvLyBTZWxlY3QgdGhlIHJlY3RhbmdsZVxuICBlbmdpbmUuYmxvY2suc2V0U2VsZWN0ZWQocmVjdEJsb2NrLCB0cnVlKTtcblxuICBjb25zb2xlLmxvZygn8J+TkCBNb2NrdXAgZGltZW5zaW9uczonLCB7IHdpZHRoOiBpbWFnZVdpZHRoLCBoZWlnaHQ6IGltYWdlSGVpZ2h0IH0pO1xuICBjb25zb2xlLmxvZygn8J+ThCBQcm9kdWN0IHBhZ2Ugc2l6ZTonLCBhcmVhLnBhZ2VTaXplKTtcblxuICAvLyBGdW5jdGlvbiB0byBjYWxjdWxhdGUgYW5kIGxvZyBjb25maWd1cmF0aW9uXG4gIGNvbnN0IGxvZ0NvbmZpZ3VyYXRpb24gPSAoKSA9PiB7XG4gICAgLy8gR2V0IHJlY3RhbmdsZSBwb3NpdGlvbiBhbmQgc2l6ZSAoaW4gcGl4ZWxzKVxuICAgIGNvbnN0IHggPSBlbmdpbmUuYmxvY2suZ2V0UG9zaXRpb25YKHJlY3RCbG9jayk7XG4gICAgY29uc3QgeSA9IGVuZ2luZS5ibG9jay5nZXRQb3NpdGlvblkocmVjdEJsb2NrKTtcbiAgICBjb25zdCB3aWR0aCA9IGVuZ2luZS5ibG9jay5nZXRXaWR0aChyZWN0QmxvY2spO1xuICAgIGNvbnN0IGhlaWdodCA9IGVuZ2luZS5ibG9jay5nZXRIZWlnaHQocmVjdEJsb2NrKTtcblxuICAgIC8vIFNpbmNlIHdlJ3JlIHVzaW5nIFBpeGVsIGRlc2lnbiB1bml0LCBjb29yZGluYXRlcyBhcmUgZGlyZWN0IHBpeGVsIHZhbHVlc1xuICAgIGNvbnN0IHByaW50YWJsZUFyZWFQeCA9IHtcbiAgICAgIHg6IE1hdGgucm91bmQoeCAqIDEwMCkgLyAxMDAsXG4gICAgICB5OiBNYXRoLnJvdW5kKHkgKiAxMDApIC8gMTAwLFxuICAgICAgd2lkdGg6IE1hdGgucm91bmQod2lkdGggKiAxMDApIC8gMTAwLFxuICAgICAgaGVpZ2h0OiBNYXRoLnJvdW5kKGhlaWdodCAqIDEwMCkgLyAxMDBcbiAgICB9O1xuXG4gICAgLy8gQ2FsY3VsYXRlIHBhZ2VTaXplIGluIHRoZSBwcm9kdWN0J3MgZGVzaWduIHVuaXRcbiAgICAvLyBTY2FsZSBiYXNlZCBvbiBob3cgdGhlIHByaW50YWJsZSBhcmVhIHNpemUgY2hhbmdlZFxuICAgIGNvbnN0IHdpZHRoUmF0aW8gPSB3aWR0aCAvIHByaW50YWJsZUFyZWEud2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0UmF0aW8gPSBoZWlnaHQgLyBwcmludGFibGVBcmVhLmhlaWdodDtcbiAgICBjb25zdCBwYWdlV2lkdGggPSBNYXRoLnJvdW5kKGFyZWEucGFnZVNpemUud2lkdGggKiB3aWR0aFJhdGlvICogMTAwKSAvIDEwMDtcbiAgICBjb25zdCBwYWdlSGVpZ2h0ID0gTWF0aC5yb3VuZChhcmVhLnBhZ2VTaXplLmhlaWdodCAqIGhlaWdodFJhdGlvICogMTAwKSAvIDEwMDtcblxuICAgIGNvbnNvbGUubG9nKCdcXG7inIUgQ29weSB0aGlzIHRvIHByb2R1Y3QudHM6XFxuJyk7XG4gICAgY29uc29sZS5sb2coJ3BhZ2VTaXplOicsIHtcbiAgICAgIHdpZHRoOiBwYWdlV2lkdGgsXG4gICAgICBoZWlnaHQ6IHBhZ2VIZWlnaHRcbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZygncHJpbnRhYmxlQXJlYVB4OicsIHByaW50YWJsZUFyZWFQeCk7XG4gICAgY29uc29sZS5sb2coJycpO1xuICB9O1xuXG4gIC8vIFN1YnNjcmliZSB0byBoaXN0b3J5IGNoYW5nZXMgdG8gZGV0ZWN0IHdoZW4gdXNlciBzdG9wcyBkcmFnZ2luZy9yZXNpemluZ1xuICBjb25zdCB1bnN1YnNjcmliZSA9IGVuZ2luZS5lZGl0b3Iub25IaXN0b3J5VXBkYXRlZCgoKSA9PiB7XG4gICAgbG9nQ29uZmlndXJhdGlvbigpO1xuICB9KTtcblxuICAvLyBMb2cgaW5pdGlhbCBzdGF0ZVxuICBjb25zb2xlLmxvZygn8J+OryBNb3ZlIG9yIHJlc2l6ZSB0aGUgYmx1ZSByZWN0YW5nbGUgdG8gYWRqdXN0IHRoZSBwcmludGFibGUgYXJlYS4nKTtcbiAgY29uc29sZS5sb2coJ/Cfk50gQ29uZmlndXJhdGlvbiB3aWxsIGJlIGxvZ2dlZCBhZnRlciBlYWNoIGNoYW5nZS4nKTtcbiAgbG9nQ29uZmlndXJhdGlvbigpO1xuXG4gIC8vIENsZWFudXAgZnVuY3Rpb24gdG8gcmVzdG9yZSBvcmlnaW5hbCBzY2VuZVxuICBjb25zdCBjbGVhbnVwID0gYXN5bmMgKCkgPT4ge1xuICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgY29uc29sZS5sb2coJ/CflIQgUmVzdG9yaW5nIGVkaXRpbmcgc2NlbmUuLi4nKTtcbiAgICBhd2FpdCBlbmdpbmUuc2NlbmUubG9hZEZyb21TdHJpbmcoc2F2ZWRFZGl0aW5nU2NlbmUsIHRydWUpO1xuICAgIGlzQ29uZmlndXJhdG9yQWN0aXZlID0gZmFsc2U7XG4gICAgY29uc29sZS5sb2coJ/Cfp7kgUHJvZHVjdCBDb25maWd1cmF0b3IgY2xlYW5lZCB1cCwgZWRpdGluZyBzY2VuZSByZXN0b3JlZCcpO1xuICB9O1xuXG4gIC8vIFN0b3JlIGNsZWFudXAgZnVuY3Rpb24gZm9yIG1hbnVhbCBjbGVhbnVwXG4gICh3aW5kb3cgYXMgYW55KS5fX2NsZWFudXBQcm9kdWN0Q29uZmlndXJhdG9yID0gY2xlYW51cDtcblxuICBjb25zb2xlLmxvZygn8J+SoSBUbyBleGl0IGNvbmZpZ3VyYXRvcjogd2luZG93Ll9fY2xlYW51cFByb2R1Y3RDb25maWd1cmF0b3IoKScpO1xufVxuIl0sIm5hbWVzIjpbImlzQ29uZmlndXJhdG9yQWN0aXZlIiwiZW5hYmxlUHJvZHVjdENvbmZpZ3VyYXRvciIsImluc3RhbmNlIiwicHJvZHVjdCIsImFyZWFJZCIsImNvbG9yIiwiYXJlYSIsImNvbnNvbGUiLCJ3YXJuIiwiZW5naW5lIiwibG9nIiwibGFiZWwiLCJpZCIsImFyZWFzIiwiZmluZCIsImEiLCJtb2NrdXAiLCJlcnJvciIsInNhdmVkRWRpdGluZ1NjZW5lIiwic2NlbmUiLCJzYXZlVG9TdHJpbmciLCJjcmVhdGUiLCJzZXREZXNpZ25Vbml0IiwiZWRpdG9yIiwic2V0U2V0dGluZyIsInBhZ2UiLCJibG9jayIsImFwcGVuZENoaWxkIiwiaW1hZ2VXaWR0aCIsImltYWdlcyIsIndpZHRoIiwiaW1hZ2VIZWlnaHQiLCJoZWlnaHQiLCJzZXRXaWR0aCIsInNldEhlaWdodCIsInBhZ2VGaWxsIiwiY3JlYXRlRmlsbCIsInNldENvbG9yIiwiciIsImciLCJiIiwic2V0RmlsbCIsInNldFNjb3BlRW5hYmxlZCIsIm1vY2t1cEJsb2NrIiwibW9ja3VwU2hhcGUiLCJjcmVhdGVTaGFwZSIsInNldFNoYXBlIiwibW9ja3VwRmlsbCIsIm1vY2t1cFVyaSIsInVyaSIsInJlcGxhY2UiLCJzZXRTdHJpbmciLCJzZXRQb3NpdGlvblgiLCJzZXRQb3NpdGlvblkiLCJpbnNlcnRDaGlsZCIsInJlY3RCbG9jayIsInJlY3RTaGFwZSIsInByaW50YWJsZUFyZWEiLCJwcmludGFibGVBcmVhUHgiLCJ4IiwieSIsInJlY3RGaWxsIiwic2V0U3Ryb2tlRW5hYmxlZCIsInNldFN0cm9rZVN0eWxlIiwic2V0U3Ryb2tlV2lkdGgiLCJzZXRTdHJva2VDb2xvciIsInNldFNlbGVjdGVkIiwicGFnZVNpemUiLCJsb2dDb25maWd1cmF0aW9uIiwiZ2V0UG9zaXRpb25YIiwiZ2V0UG9zaXRpb25ZIiwiZ2V0V2lkdGgiLCJnZXRIZWlnaHQiLCJNYXRoIiwicm91bmQiLCJ3aWR0aFJhdGlvIiwiaGVpZ2h0UmF0aW8iLCJwYWdlV2lkdGgiLCJwYWdlSGVpZ2h0IiwidW5zdWJzY3JpYmUiLCJvbkhpc3RvcnlVcGRhdGVkIiwiY2xlYW51cCIsImxvYWRGcm9tU3RyaW5nIiwid2luZG93IiwiX19jbGVhbnVwUHJvZHVjdENvbmZpZ3VyYXRvciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/case/productConfigurator.ts\n"));

/***/ })

});